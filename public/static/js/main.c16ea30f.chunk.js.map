{"version":3,"sources":["hoc/withTheme.js","lib/auth-service.js","context/auth-context.js","components/Navbar/Navbar.js","components/Searchbar/Searchbar.js","components/UserCard/UserCard.js","images/windows-C6T6vr1sQI0-unsplash.jpg","images/ramiro-mendes-CjS3QsRuxnE-unsplash.jpg","pages/Home.js","pages/Signup.js","pages/Login.js","components/AddProject/AddProject.js","components/EditProject/EditProject.js","components/Comment/Comment.js","components/AddComment/AddComment.js","components/PopUp/PopUp.js","components/ProjectCard/ProjectCard.js","components/EditUser/EditUserName.js","components/EditUser/EditOccupation.js","components/EditUser/EditUserImage.js","pages/Private.js","pages/UserProfile.js","pages/LandingPage.js","components/ChatUserCard/ChatUserCard.js","pages/Chat.js","pages/Conversation.js","components/AnonRoute.js","components/PrivateRoute.js","App.js","index.js"],"names":["withTheme","WrappedComonent","mode","styleToApply","background","color","props","style","authService","this","auth","axios","create","baseURL","process","withCredentials","username","image","occupation","email","password","post","then","response","data","catch","err","console","log","get","React","createContext","Consumer","Provider","AuthProvider","state","isLoggedIn","isLoading","user","signup","setState","login","logout","me","value","children","Component","withAuth","WrappedComponent","newUnreadMessages","componentDidMount","chats","forEach","chat","_id","messages","unreadMessages","filter","message","seen","sentBy","length","className","to","id","class","type","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","aria-current","onClick","Searchbar","search","handleInput","event","target","name","filterUsers","closeSearchbar","placeholder","onChange","userOnCard","src","Home","allUsers","filteredUsers","showErrorMessage","hidePageContent","input","filtered","userName","toLowerCase","searchInput","includes","map","image1","image2","showLoadingMessage","handleFormSubmit","preventDefault","handleChange","handleFileUpload","e","files","file","uploadData","FormData","append","secure_url","onSubmit","maxlength","required","alt","title","about","description","technologies","deployedLink","githubLink","handleSubmit","userId","displayProjects","toggleForm","width","height","borderRadius","project","put","writtenBy","deleteComment","comment","displayComments","created_at","commentedAt","moment","startOf","fromNow","text","projectId","PopUp","togglePopUp","userArray","showFront","showEditForm","showCommentSection","comments","likedBy","showLikesPopUp","chatId","redirect","createChat","madeBy","currentUserId","some","participants","filteredChat","alert","toggleCard","deleteProject","toggleEditForm","toggleComments","showAlert","toggleLikesPopUp","like","updateLikes","dislike","enableLikes","every","showEditOptions","index","href","showCommentInput","reverse","userToEdit","editUserName","editOccupation","editUserImage","portfolio","showForm","showFollowersPopUp","showFollowingPopUp","showUserNameInput","showOccupationInput","showImageUpload","followers","following","toggleFollowersPopup","toggleFollowingPopup","editUsername","currentUser","userIsFollowing","loggedInUser","showEmail","displayLogInAlert","match","params","follower","followUser","unfollowUser","newFollowers","displayEmail","followNotLoggedIn","LandingPage","otherUser","lastMessage","lastMessageLength","hasUnreadMessages","otherParticipants","readChat","messagesOfOtherUser","sortedChats","online","openChat","getAllChats","convertedArray","updated_at","Date","parse","sortedByTime","sort","chat1","chat2","socket","io","typing","startSocket","emit","room","error","on","getAllMessages","scrollToBottom","el","scrollIntoView","behavior","mountComponent","setMessageToSeen","newMessage","ref","routeProps","ComponentToShow","component","exact","path","render","UserProfile","Signup","Login","Private","Chat","Conversation","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.c16ea30f.chunk.js","sourcesContent":["import React from \"react\";\n\nfunction withTheme(WrappedComonent, mode) {\n  const darkModeStyle = {\n    background: \"black\",\n    color: \"white\",\n  };\n\n  const lightModeStyle = {\n    background: \"white\",\n    color: \"black\",\n  };\n\n  const styleToApply = mode === \"dark\" ? darkModeStyle : lightModeStyle;\n\n  return function (props) {\n    return <WrappedComonent {...props} style={styleToApply} />;\n  };\n}\n\nexport default withTheme;\n","import axios from \"axios\";\n\nclass AuthService {\n  constructor() {\n    this.auth = axios.create({\n      baseURL: process.env.REACT_APP_API_URL,\n      withCredentials: true,\n    });\n  }\n\n  signup(username, image, occupation, email, password) {\n    const pr = this.auth\n      .post(\"/auth/signup\", { username, image, occupation, email, password })\n      .then((response) => response.data)\n      .catch((err) => console.log(\"SIGNUP DIDNT WORK\"));\n    // .then(({ data }) => data); // Shorter way of `.then((response) => response.data);`\n\n    return pr;\n  }\n\n  login(email, password) {\n    const pr = this.auth\n      .post(\"/auth/login\", { email, password })\n      .then((response) => response.data);\n\n    return pr;\n  }\n\n  logout() {\n    const pr = this.auth.get(\"/auth/logout\").then((response) => response.data);\n\n    return pr;\n  }\n\n  me() {\n    const pr = this.auth.get(\"/auth/me\").then((response) => response.data);\n\n    return pr;\n  }\n}\n\nconst authService = new AuthService();\n\nexport default authService;\n\n// Service is a set of methods abstracted and placed into a class, out of which we create one instance.\n// In the above case, all axios request calls are abstracted into methods.\n","import React from \"react\";\nimport authService from \"./../lib/auth-service\";\n\nconst { Consumer, Provider } = React.createContext();\n\nclass AuthProvider extends React.Component {\n  state = {\n    isLoggedIn: false,\n    isLoading: true,\n    user: null,\n  };\n\n  componentDidMount() {\n    authService\n      .me()\n      .then((user) =>\n        this.setState({ isLoggedIn: true, user: user, isLoading: false })\n      )\n      .catch((err) =>\n        this.setState({ isLoggedIn: false, user: null, isLoading: false })\n      );\n  }\n\n  signup = (username, image, occupation, email, password) => {\n    authService\n      .signup(username, image, occupation, email, password)\n      .then((user) => this.setState({ isLoggedIn: true, user }))\n      .catch((err) => {\n        this.setState({ isLoggedIn: false, user: null });\n      });\n  };\n\n  login = (email, password) => {\n    authService\n      .login(email, password)\n      .then((user) => this.setState({ isLoggedIn: true, user }))\n      .catch((err) => {\n        this.setState({ isLoggedIn: false, user: null });\n      });\n  };\n\n  logout = () => {\n    authService\n      .logout()\n      .then(() => this.setState({ isLoggedIn: false, user: null }))\n      .catch((err) => console.log(err));\n  };\n\n  render() {\n    const { isLoggedIn, isLoading, user } = this.state;\n    const { signup, login, logout } = this;\n\n    if (isLoading) return <p>Loading</p>;\n\n    return (\n      <Provider value={{ isLoggedIn, isLoading, user, signup, login, logout }}>\n        {this.props.children}\n      </Provider>\n    );\n  }\n}\n\n// HOC that converts regular component into a Consumer\nconst withAuth = (WrappedComponent) => {\n  return class extends React.Component {\n    render() {\n      return (\n        <Consumer>\n          {(value) => {\n            const {\n              isLoggedIn,\n              isLoading,\n              user,\n              signup,\n              login,\n              logout,\n            } = value;\n\n            return (\n              <WrappedComponent\n                {...this.props}\n                isLoggedIn={isLoggedIn}\n                isLoading={isLoading}\n                user={user}\n                signup={signup}\n                login={login}\n                logout={logout}\n              />\n            );\n          }}\n        </Consumer>\n      );\n    }\n  };\n};\n\nexport { AuthProvider, withAuth };\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"../../context/auth-context\";\nimport \"./Navbar.css\";\nimport axios from \"axios\";\n\nclass Navbar extends Component {\n  state = {\n    newUnreadMessages: 0,\n  };\n\n  componentDidMount = () => {\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/api/user`, {\n        withCredentials: true,\n      })\n      .then((response) => {\n        response.data.chats.forEach((chat) => {\n          axios\n            .get(`${process.env.REACT_APP_API_URL}/api/chat/${chat._id}`)\n            .then((response) => {\n              console.log(response.data.messages);\n\n              const unreadMessages = response.data.messages.filter(\n                (message) => {\n                  return (\n                    !message.seen && message.sentBy !== this.props.user._id\n                  );\n                }\n              );\n\n              this.setState({\n                newUnreadMessages:\n                  this.state.newUnreadMessages + unreadMessages.length,\n              });\n            })\n            .catch((err) => console.log(err));\n        });\n      })\n      .catch((err) => console.log(err));\n  };\n\n  render() {\n    // const { user, logout, isLoggedin } = this.props;\n    return (\n      <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\n        <div className=\"container-fluid\">\n          <Link className=\"navbar-brand\" to=\"/\">\n            MyPortfolio\n          </Link>\n\n          <div id=\"chat-notification-icon\">\n            {this.state.newUnreadMessages === 0 ? null : (\n              <p className=\"notification-num\">{this.state.newUnreadMessages}</p>\n            )}\n            {this.props.isLoggedIn ? (\n              <Link to=\"/chat\">\n                <i class=\"fas fa-comment-dots\"></i>\n              </Link>\n            ) : null}\n          </div>\n\n          <button\n            className=\"navbar-toggler\"\n            type=\"button\"\n            data-bs-toggle=\"collapse\"\n            data-bs-target=\"#navbarNav\"\n            aria-controls=\"navbarNav\"\n            aria-expanded=\"false\"\n            aria-label=\"Toggle navigation\"\n          >\n            <span className=\"navbar-toggler-icon\"></span>\n          </button>\n          <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\n            <ul className=\"navbar-nav\">\n              <li className=\"nav-item\">\n                <Link\n                  to=\"/home\"\n                  className=\"nav-link active\"\n                  aria-current=\"page\"\n                >\n                  Home\n                </Link>\n              </li>\n              {this.props.isLoggedIn ? (\n                <>\n                  <li className=\"nav-item\">\n                    <Link to=\"/chat\" className=\"nav-link\">\n                      Chat\n                    </Link>\n                  </li>\n                  <li className=\"nav-item\">\n                    <Link to=\"/myprofile\" className=\"nav-link\">\n                      My Profile\n                    </Link>\n                  </li>\n                  <li className=\"nav-item\">\n                    <p\n                      className=\"nav-link logout-btn\"\n                      onClick={this.props.logout}\n                    >\n                      Logout\n                    </p>\n                    {/* <Link\n                      to=\"/login\"\n                      className=\"nav-link\"\n                      onClick={this.props.logout}\n                    >\n                      Logout\n                    </Link> */}\n                  </li>\n                </>\n              ) : (\n                <>\n                  <li className=\"nav-item\">\n                    <Link to=\"/signup\" className=\"nav-link\">\n                      Signup\n                    </Link>\n                  </li>\n                  <li className=\"nav-item\">\n                    <Link to=\"/login\" className=\"nav-link\">\n                      Login\n                    </Link>\n                  </li>\n                </>\n              )}\n            </ul>\n          </div>\n        </div>\n      </nav>\n    );\n  }\n}\n\nexport default withAuth(Navbar);\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport \"./Searchbar.css\";\n\nclass Searchbar extends Component {\n  state = {\n    search: \"\",\n  };\n\n  handleInput = (event) => {\n    const { value, name } = event.target;\n    this.setState({ [name]: value });\n    this.props.filterUsers(value);\n  };\n\n  closeSearchbar = () => {\n    this.setState({ search: \"\" });\n    this.props.filterUsers(\"\");\n  };\n\n  render() {\n    return (\n      <div className=\"search-container\">\n        <div id=\"search\">\n          <i class=\"fas fa-search search-icon\"></i>\n          <input\n            type=\"text\"\n            className=\"input search-bar\"\n            name=\"search\"\n            placeholder=\"Search for a user\"\n            value={this.state.search}\n            onChange={this.handleInput}\n          />\n        </div>\n        <i\n          class=\"fas fa-times-circle search-icon\"\n          onClick={this.closeSearchbar}\n        ></i>\n      </div>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React, { Component } from \"react\";\nimport \"./UserCard.css\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"./../../context/auth-context\";\n\nclass UserCard extends Component {\n  render() {\n    return (\n      <div>\n        {this.props.user &&\n        this.props.userOnCard._id === this.props.user._id ? (\n          <Link to={\"/myprofile\"} className=\"link\">\n            <div className=\"user-card\">\n              <img src={this.props.userOnCard.image} />\n              <div>\n                <p className=\"name-info\">{this.props.userOnCard.username}</p>\n                <p className=\"occupation-info\">\n                  {this.props.userOnCard.occupation}\n                </p>\n              </div>\n            </div>\n          </Link>\n        ) : (\n          <Link to={`/user/${this.props.userOnCard._id}`} className=\"link\">\n            <div className=\"user-card\">\n              <img src={this.props.userOnCard.image} />\n              <div>\n                <p className=\"name-info\">{this.props.userOnCard.username}</p>\n                <p className=\"occupation-info\">\n                  {this.props.userOnCard.occupation}\n                </p>\n              </div>\n            </div>\n          </Link>\n        )}{\" \"}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(UserCard);\n","export default __webpack_public_path__ + \"static/media/windows-C6T6vr1sQI0-unsplash.7b7cd500.jpg\";","export default __webpack_public_path__ + \"static/media/ramiro-mendes-CjS3QsRuxnE-unsplash.2759f5ef.jpg\";","import React from \"react\";\nimport Searchbar from \"./../components/Searchbar/Searchbar\";\nimport Navbar from \"./../components/Navbar/Navbar\";\nimport axios from \"axios\";\nimport UserCard from \"../components/UserCard/UserCard\";\nimport image1 from \"./../images/windows-C6T6vr1sQI0-unsplash.jpg\";\nimport image2 from \"./../images/ramiro-mendes-CjS3QsRuxnE-unsplash.jpg\";\n\nclass Home extends React.Component {\n  state = {\n    allUsers: [],\n    filteredUsers: [],\n    showErrorMessage: false,\n    hidePageContent: false,\n  };\n\n  filterUsers = (input) => {\n    const filtered = this.state.allUsers.filter((user) => {\n      const userName = user.username.toLowerCase();\n      const searchInput = input.toLowerCase();\n      return userName.includes(searchInput);\n    });\n\n    this.setState({\n      filteredUsers: filtered,\n      showErrorMessage: false,\n      hidePageContent: true,\n    });\n\n    if (filtered.length === 0) {\n      this.setState({ showErrorMessage: true, hidePageContent: true });\n    }\n\n    if (input === \"\") {\n      this.setState({\n        filteredUsers: [],\n        showErrorMessage: false,\n        hidePageContent: false,\n      });\n    }\n  };\n\n  componentDidMount = () => {\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/api/users`)\n      .then((response) => {\n        this.setState({ allUsers: response.data });\n      })\n      .catch((err) => console.log(err));\n  };\n\n  render() {\n    return (\n      <div>\n        <Navbar />\n\n        <Searchbar filterUsers={this.filterUsers} />\n        {this.state.showErrorMessage ? (\n          <p>sorry we didnt find any users with that name</p>\n        ) : null}\n        {this.state.filteredUsers.map((user) => {\n          return (\n            <div key={user._id}>\n              <UserCard userOnCard={user} />\n            </div>\n          );\n        })}\n\n        {this.state.hidePageContent ? null : (\n          <div id=\"homepage\">\n            {/* <p>\n              Welcome to myPortfolio, a platform for developers to share their\n              greatest work.\n            </p>\n            <h3>Why do I need a portfolio</h3> */}\n            <p id=\"first-p\">\n              As young developers the projects we've built are what count most\n              on the job market. Show employers what you have developed to\n              increase your chances in getting a job.\n            </p>\n            <img src={image1} id=\"laptop-image\" />\n            <h3>Companies</h3>\n            <p>\n              If you are a company, you can start searching for a user by name\n              and check out their profile. If you want to contact a user you can\n              create an account and use the chat. Otherwise you can find the\n              user's email address on the top of his profile page.\n            </p>\n            <img src={image2} id=\"laptop-image\" />\n            <h3>Developers</h3>\n            <p>\n              If you are a developer, you need to create an account with us to\n              build your profile and share your projects.\n            </p>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default Home;\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"./../context/auth-context\";\nimport axios from \"axios\";\nimport Navbar from \"./../components/Navbar/Navbar\";\n\nclass Signup extends Component {\n  state = {\n    username: \"\",\n    image:\n      \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRI7M4Z0v1HP2Z9tZmfQaZFCuspezuoxter_A&usqp=CAU\",\n    occupation: \"\",\n    email: \"\",\n    password: \"\",\n    showLoadingMessage: false,\n  };\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const { username, image, occupation, email, password } = this.state;\n\n    this.props.signup(username, image, occupation, email, password);\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  handleFileUpload = (e) => {\n    this.setState({\n      showLoadingMessage: true,\n    });\n    console.log(\"The file to be uploaded is: \", e.target.files);\n    const file = e.target.files[0];\n\n    const uploadData = new FormData();\n    // image => this name has to be the same as in the model since we pass\n    // req.body to .create() method when creating a new project in '/api/projects' POST route\n    uploadData.append(\"image\", file);\n\n    axios\n      .post(`${process.env.REACT_APP_API_URL}/auth/upload`, uploadData, {\n        withCredentials: true,\n      })\n      .then((response) => {\n        console.log(\"response is: \", response);\n        // after the console.log we can see that response carries 'secure_url' which we can use to update the state\n        this.setState({\n          image: response.data.secure_url,\n          showLoadingMessage: false,\n        });\n      })\n      .catch((err) => {\n        console.log(\"Error while uploading the file: \", err);\n      });\n  };\n\n  render() {\n    const { username, occupation, email, password } = this.state;\n    return (\n      <div>\n        <Navbar />\n        <h1 className=\"signup-heading\">\n          Create an account to use all our features\n        </h1>\n\n        <form onSubmit={this.handleFormSubmit} className=\"project-form\">\n          <input\n            type=\"text\"\n            name=\"username\"\n            value={username}\n            onChange={this.handleChange}\n            maxlength=\"20\"\n            className=\"add-project-input\"\n            placeholder=\"username\"\n            required\n          />\n\n          <div id=\"signup-image-upload\">\n            {this.state.showLoadingMessage ? (\n              <p id=\"loading-message-signup\">loading ...</p>\n            ) : (\n              <input\n                name=\"image\"\n                type=\"file\"\n                onChange={this.handleFileUpload}\n              ></input>\n            )}\n\n            <span>\n              <img\n                // style={{ width: \"100px\", height: \"auto\" }}\n                src={this.state.image && this.state.image}\n                alt=\"\"\n              ></img>\n            </span>\n          </div>\n\n          <input\n            type=\"text\"\n            name=\"occupation\"\n            value={occupation}\n            onChange={this.handleChange}\n            className=\"add-project-input\"\n            maxlength=\"25\"\n            placeholder=\"occupation\"\n            required\n          />\n\n          <input\n            type=\"email\"\n            name=\"email\"\n            value={email}\n            onChange={this.handleChange}\n            className=\"add-project-input\"\n            placeholder=\"email\"\n            required\n          />\n\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={password}\n            onChange={this.handleChange}\n            className=\"add-project-input\"\n            placeholder=\"password\"\n            required\n          />\n\n          <input\n            type=\"submit\"\n            value=\"Signup\"\n            className=\"add-project-input\"\n            id=\"signup-button\"\n          />\n        </form>\n\n        {/* <p>Already have account?</p>\n        <Link to={\"/login\"}> Login</Link> */}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Signup);\n\n// const EnhancedSignup = withAuth(Signup)\n// export default EnhancedSignup;\n","import React, { Component } from \"react\";\nimport { withAuth } from \"./../context/auth-context\";\nimport Navbar from \"./../components/Navbar/Navbar\";\n\nclass Login extends Component {\n  state = { email: \"\", password: \"\" };\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const { email, password } = this.state;\n    // Call funciton coming from AuthProvider ( via withAuth )\n    this.props.login(email, password);\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { email, password } = this.state;\n\n    return (\n      <div>\n        <Navbar />\n        <h1 className=\"signup-heading\">Login</h1>\n        <form onSubmit={this.handleFormSubmit} className=\"project-form\">\n          <input\n            type=\"email\"\n            name=\"email\"\n            value={email}\n            onChange={this.handleChange}\n            className=\"add-project-input\"\n            placeholder=\"email\"\n            required\n          />\n\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={password}\n            onChange={this.handleChange}\n            className=\"add-project-input\"\n            placeholder=\"password\"\n            required\n          />\n\n          <input\n            type=\"submit\"\n            value=\"Login\"\n            className=\"add-project-input\"\n            id=\"signup-button\"\n          />\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Login);\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport \"./AddProject.css\";\n\nclass AddProject extends Component {\n  state = {\n    title: \"\",\n    image: \"\",\n    about: \"\",\n    description: \"\",\n    technologies: \"\",\n    deployedLink: \"\",\n    githubLink: \"\",\n    showLoadingMessage: false,\n  };\n\n  handleInput = (event) => {\n    let { name, value, type } = event.target;\n\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    const {\n      title,\n      image,\n      about,\n      description,\n      technologies,\n      deployedLink,\n      githubLink,\n    } = this.state;\n\n    const userId = this.props.user._id;\n\n    axios\n      .post(\n        `${process.env.REACT_APP_API_URL}/api/projects`,\n        {\n          title,\n          image,\n          about,\n          description,\n          technologies,\n          deployedLink,\n          githubLink,\n          userId,\n        },\n        { withCredentials: true }\n      )\n      .then(() => {\n        this.props.displayProjects();\n        this.props.toggleForm();\n      })\n      .catch((err) => console.log(err));\n\n    this.setState({\n      title: \"\",\n      image: \"\",\n      about: \"\",\n      description: \"\",\n      technologies: \"\",\n      deployedLink: \"\",\n      githubLink: \"\",\n    });\n  };\n\n  handleFileUpload = (e) => {\n    this.setState({\n      showLoadingMessage: true,\n    });\n    console.log(\"The file to be uploaded is: \", e.target.files);\n    const file = e.target.files[0];\n\n    const uploadData = new FormData();\n    // image => this name has to be the same as in the model since we pass\n    // req.body to .create() method when creating a new project in '/api/projects' POST route\n    uploadData.append(\"image\", file);\n\n    axios\n      .post(`${process.env.REACT_APP_API_URL}/api/upload`, uploadData, {\n        withCredentials: true,\n      })\n      .then((response) => {\n        console.log(\"response is: \", response);\n        // after the console.log we can see that response carries 'secure_url' which we can use to update the state\n        this.setState({\n          image: response.data.secure_url,\n          showLoadingMessage: false,\n        });\n      })\n      .catch((err) => {\n        console.log(\"Error while uploading the file: \", err);\n      });\n  };\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit} className=\"project-form\">\n        <input\n          type=\"text\"\n          name=\"title\"\n          value={this.state.title}\n          onChange={this.handleInput}\n          placeholder=\"name of your project\"\n          maxlength=\"40\"\n          className=\"add-project-input\"\n          required\n        />\n        <div id=\"project-image-upload\" className=\"add-project-input\">\n          <input\n            name=\"image\"\n            type=\"file\"\n            onChange={this.handleFileUpload}\n            className=\"add-project-input project-image-input\"\n          ></input>\n          {this.state.showLoadingMessage ? (\n            <p id=\"loading-message-project\">loading</p>\n          ) : null}\n          <span>\n            <img\n              style={{ width: \"30px\", height: \"auto\", borderRadius: \"10px\" }}\n              src={this.state.image && this.state.image}\n              alt=\"\"\n            ></img>\n          </span>\n        </div>\n        <input\n          type=\"text\"\n          name=\"about\"\n          value={this.state.about}\n          onChange={this.handleInput}\n          placeholder=\"what kind of app / e.g 'e-commerce site'\"\n          maxlength=\"30\"\n          className=\"add-project-input\"\n          required\n        />\n        <textarea\n          type=\"text\"\n          name=\"description\"\n          value={this.state.description}\n          onChange={this.handleInput}\n          placeholder=\"description of the project\"\n          maxlength=\"300\"\n          className=\"add-project-input\"\n          required\n        />\n        <input\n          type=\"text\"\n          name=\"technologies\"\n          value={this.state.technologies}\n          onChange={this.handleInput}\n          placeholder=\"technolgies used\"\n          className=\"add-project-input\"\n          maxlength=\"150\"\n          required\n        />\n        <input\n          type=\"text\"\n          name=\"deployedLink\"\n          value={this.state.deployedLink}\n          onChange={this.handleInput}\n          placeholder=\"link to the deployed website\"\n          className=\"add-project-input\"\n          required\n        />\n        <input\n          type=\"text\"\n          name=\"githubLink\"\n          value={this.state.githubLink}\n          onChange={this.handleInput}\n          placeholder=\"link to the github repository\"\n          className=\"add-project-input\"\n          required\n        />\n        <button type=\"submit\">Share your project</button>\n      </form>\n    );\n  }\n}\n\nexport default withAuth(AddProject);\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport \"./EditProject.css\";\n\nclass EditProject extends Component {\n  state = {\n    title: this.props.project.title,\n    image: this.props.project.image,\n    about: this.props.project.about,\n    description: this.props.project.description,\n    technologies: this.props.project.technologies,\n    deployedLink: this.props.project.deployedLink,\n    githubLink: this.props.project.githubLink,\n    showLoadingMessage: false,\n  };\n\n  handleInput = (event) => {\n    let { name, value, type } = event.target;\n    console.log(value);\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    const {\n      title,\n      image,\n      about,\n      description,\n      technologies,\n      deployedLink,\n      githubLink,\n    } = this.state;\n\n    const userId = this.props.user._id;\n    const id = this.props.project._id;\n    axios\n      .put(\n        `${process.env.REACT_APP_API_URL}/api/projects/${id}`,\n        {\n          title,\n          image,\n          about,\n          description,\n          technologies,\n          deployedLink,\n          githubLink,\n          userId,\n        },\n        { withCredentials: true }\n      )\n      .then(() => {\n        this.props.toggleForm();\n        this.props.displayProjects();\n      })\n      .catch((err) => console.log(err));\n\n    this.setState({\n      title: \"\",\n      image: \"\",\n      about: \"\",\n      description: \"\",\n      technologies: \"\",\n      deployedLink: \"\",\n      githubLink: \"\",\n    });\n  };\n\n  handleFileUpload = (e) => {\n    this.setState({\n      showLoadingMessage: true,\n    });\n    console.log(\"The file to be uploaded is: \", e.target.files);\n    const file = e.target.files[0];\n\n    const uploadData = new FormData();\n    // image => this name has to be the same as in the model since we pass\n    // req.body to .create() method when creating a new project in '/api/projects' POST route\n    uploadData.append(\"image\", file);\n\n    axios\n      .post(`${process.env.REACT_APP_API_URL}/api/upload`, uploadData, {\n        withCredentials: true,\n      })\n      .then((response) => {\n        console.log(\"response is: \", response);\n        // after the console.log we can see that response carries 'secure_url' which we can use to update the state\n        this.setState({\n          image: response.data.secure_url,\n          showLoadingMessage: false,\n        });\n      })\n      .catch((err) => {\n        console.log(\"Error while uploading the file: \", err);\n      });\n  };\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit} className=\"project-form\">\n        <input\n          type=\"text\"\n          name=\"title\"\n          value={this.state.title}\n          onChange={this.handleInput}\n          className=\"add-project-input\"\n          placeholder=\"name of your project\"\n          required\n        />\n        <div id=\"project-image-upload\" className=\"add-project-input\">\n          <input\n            name=\"image\"\n            type=\"file\"\n            onChange={this.handleFileUpload}\n            className=\"add-project-input project-image-input\"\n          ></input>\n          {this.state.showLoadingMessage ? (\n            <p id=\"loading-message-project\">loading</p>\n          ) : null}\n          <span>\n            <img\n              style={{ width: \"30px\", height: \"auto\", borderRadius: \"10px\" }}\n              src={this.state.image}\n              alt=\"\"\n            ></img>\n          </span>\n        </div>\n        <input\n          type=\"text\"\n          name=\"about\"\n          value={this.state.about}\n          onChange={this.handleInput}\n          placeholder=\"e.g restaurant finder\"\n          className=\"add-project-input\"\n          required\n        />\n        <textarea\n          type=\"text\"\n          name=\"description\"\n          value={this.state.description}\n          onChange={this.handleInput}\n          className=\"add-project-input\"\n          placeholder=\"e.g. technologies used\"\n          required\n        />\n        <input\n          type=\"text\"\n          name=\"technologies\"\n          value={this.state.technologies}\n          onChange={this.handleInput}\n          className=\"add-project-input\"\n          placeholder=\"technolgies\"\n          required\n        />\n        <input\n          type=\"text\"\n          name=\"deployedLink\"\n          value={this.state.deployedLink}\n          onChange={this.handleInput}\n          placeholder=\"link to the deployed website\"\n          className=\"add-project-input\"\n          required\n        />\n        <input\n          type=\"text\"\n          name=\"githubLink\"\n          value={this.state.githubLink}\n          onChange={this.handleInput}\n          placeholder=\"link to your github repository\"\n          className=\"add-project-input\"\n          required\n        />\n        <button type=\"submit\">Update changes</button>\n      </form>\n    );\n  }\n}\n\nexport default withAuth(EditProject);\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport \"./Comment.css\";\nimport moment from \"moment\";\nimport { withAuth } from \"./../../context/auth-context\";\n\nclass Comment extends Component {\n  state = {\n    writtenBy: {},\n  };\n\n  deleteComment = () => {\n    axios\n      .post(\n        `${process.env.REACT_APP_API_URL}/api/comments/${this.props.comment._id}`\n      )\n      .then((response) => {\n        this.props.displayComments();\n      })\n      .catch((err) => console.log(err));\n  };\n\n  componentDidMount = () => {\n    axios\n      .get(\n        `${process.env.REACT_APP_API_URL}/api/comments/${this.props.comment._id}`\n      )\n      .then((response) => {\n        this.setState({ writtenBy: response.data.writtenBy });\n      })\n      .catch((err) => console.log(err));\n  };\n\n  render() {\n    console.log(this.props.comment.created_at);\n    const commentedAt = moment(this.props.comment.created_at)\n      .startOf(\"hour\")\n      .fromNow();\n    //console.log(commentedAt);\n\n    return (\n      <div className=\"comment\">\n        <div className=\"comment-left\">\n          <img src={this.state.writtenBy.image} />\n          <div className=\"comment-center\">\n            <div>{this.props.comment.text}</div>\n            <p>commented {commentedAt}</p>\n          </div>\n        </div>\n        {this.props.user && this.state.writtenBy._id === this.props.user._id ? (\n          <p onClick={this.deleteComment} className=\"delete-x\">\n            x\n          </p>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Comment);\n","import React, { Component } from \"react\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport axios from \"axios\";\nimport \"./AddComment.css\";\n\nclass AddComment extends Component {\n  state = {\n    text: \"\",\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    const { text } = this.state;\n\n    const userId = this.props.user._id;\n    const projectId = this.props.project._id;\n\n    axios\n      .post(\n        `${process.env.REACT_APP_API_URL}/api/comments`,\n        {\n          text,\n          projectId,\n          userId,\n        },\n        { withCredentials: true }\n      )\n      .then(() => {\n        this.props.displayComments();\n      })\n      .catch((err) => console.log(err));\n\n    this.setState({\n      text: \"\",\n    });\n  };\n\n  handleInput = (event) => {\n    let { name, value, type } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit} className=\"comment-input\">\n        <input\n          placeholder=\"write a comment\"\n          type=\"text\"\n          name=\"text\"\n          value={this.state.text}\n          onChange={this.handleInput}\n          required\n        />{\" \"}\n        <button>Post</button>\n      </form>\n    );\n  }\n}\n\nexport default withAuth(AddComment);\n","import React, { Component } from \"react\";\nimport \"./PopUp.css\";\nimport UserCard from \"../UserCard/UserCard\";\n\nclass PopUp extends Component {\n  state = {};\n\n  render() {\n    return (\n      <div className=\"likes-pop-up\">\n        <i\n          class=\"fas fa-times-circle search-icon\"\n          onClick={this.props.togglePopUp}\n        ></i>\n        {this.props.userArray.map((user) => {\n          return (\n            <div key={user._id}>\n              <UserCard userOnCard={user} />\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nexport default PopUp;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport \"./ProjectCard.css\";\nimport { Link } from \"react-router-dom\";\nimport EditProject from \"./../EditProject/EditProject\";\nimport Comment from \"./../Comment/Comment\";\nimport AddComment from \"./../AddComment/AddComment\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport PopUp from \"../PopUp/PopUp\";\nimport { Redirect } from \"react-router-dom\";\n\nclass ProjectCard extends Component {\n  state = {\n    showFront: true,\n    showEditForm: false,\n    showCommentSection: false,\n    comments: [],\n    likedBy: [],\n    showLikesPopUp: false,\n    chatId: \"\",\n    redirect: false,\n  };\n\n  createChat = () => {\n    if (this.props.user) {\n      const madeBy = this.props.madeBy;\n      const currentUserId = this.props.user._id;\n\n      if (\n        this.props.madeBy.chats.some((chat) => {\n          return chat.participants.includes(this.props.user._id);\n        })\n      ) {\n        console.log(\"chat already exists\");\n\n        const filteredChat = this.props.madeBy.chats.filter((chat) => {\n          return chat.participants.includes(this.props.user._id);\n        });\n\n        this.setState({ chatId: filteredChat[0]._id, redirect: true });\n      } else {\n        axios\n          .post(\n            `${process.env.REACT_APP_API_URL}/api/chat/${madeBy._id}`,\n            { currentUserId },\n            {\n              withCredentials: true,\n            }\n          )\n          .then((response) => {\n            console.log(\"new chat created\", response.data);\n            this.setState({ chatId: response.data, redirect: true });\n          })\n          .catch((err) => console.log(err));\n      }\n    } else {\n      alert(\"Please log in to contact \" + this.props.madeBy.username);\n    }\n  };\n\n  toggleCard = () => {\n    this.setState({\n      showFront: !this.state.showFront,\n    });\n  };\n\n  deleteProject = () => {\n    axios\n      .post(\n        `${process.env.REACT_APP_API_URL}/api/projects/${this.props.project._id}`\n      )\n      .then(() => this.props.displayProjects())\n      .catch((err) => console.log(err));\n  };\n\n  toggleEditForm = () => {\n    this.setState({ showEditForm: !this.state.showEditForm });\n  };\n\n  toggleComments = () => {\n    this.setState({ showCommentSection: !this.state.showCommentSection });\n  };\n\n  displayComments = () => {\n    axios\n      .get(\n        `${process.env.REACT_APP_API_URL}/api/projects/${this.props.project._id}`\n      )\n      .then((response) => {\n        this.setState({\n          comments: response.data.comments,\n          likedBy: response.data.likedBy,\n        });\n      })\n      .catch((err) => console.log(err));\n  };\n\n  showAlert = () => {\n    alert(\"you must log in to write a comment\");\n  };\n\n  toggleLikesPopUp = () => {\n    this.setState({ showLikesPopUp: !this.state.showLikesPopUp });\n  };\n\n  like = () => {\n    const userId = this.props.user._id;\n    axios\n      .post(\n        `${process.env.REACT_APP_API_URL}/api/projects/like/${this.props.project._id}`,\n        { userId },\n        {\n          withCredentials: true,\n        }\n      )\n      .then((response) => {\n        this.displayComments();\n        this.props.updateLikes();\n      })\n      .catch((err) => console.log(err));\n  };\n\n  dislike = () => {\n    const userId = this.props.user._id;\n    axios\n      .post(\n        `${process.env.REACT_APP_API_URL}/api/projects/dislike/${this.props.project._id}`,\n        { userId },\n        {\n          withCredentials: true,\n        }\n      )\n      .then((response) => {\n        this.displayComments();\n        this.props.updateLikes();\n      })\n      .catch((err) => console.log(err));\n  };\n\n  componentDidMount = () => {\n    this.displayComments();\n  };\n\n  render() {\n    // const alreadyLiked = this.props.project.likedBy.includes(\n    //   this.props.user._id\n    // );\n    // console.log(alreadyLiked);\n    return (\n      <div>\n        {this.state.showLikesPopUp ? (\n          <div>\n            <PopUp\n              togglePopUp={this.toggleLikesPopUp}\n              userArray={this.state.likedBy}\n            />\n          </div>\n        ) : null}\n\n        {this.state.showFront ? (\n          <div className=\"project-card front\">\n            <img src={this.props.project.image} onClick={this.toggleCard} />\n            <div className=\"bottom-card\">\n              <div>\n                <div className=\"card-icons\">\n                  <div className=\"like-icons\">\n                    {this.props.enableLikes &&\n                    this.state.likedBy.every((user) => {\n                      return user._id !== this.props.user._id;\n                    }) ? (\n                      <i className=\"far fa-heart\" onClick={this.like}></i>\n                    ) : this.props.enableLikes &&\n                      this.state.likedBy.some((user) => {\n                        return user._id === this.props.user._id;\n                      }) ? (\n                      <i\n                        className=\"fas fa-heart liked-heart\"\n                        onClick={this.dislike}\n                      ></i>\n                    ) : null}\n                    <i\n                      className=\"far fa-comment\"\n                      onClick={this.toggleComments}\n                    ></i>\n                    {!this.props.showEditOptions ? (\n                      <i\n                        class=\"far fa-paper-plane\"\n                        onClick={this.createChat}\n                      ></i>\n                    ) : null}\n                  </div>\n                  {this.state.redirect ? (\n                    <Redirect to={`/conversation/${this.state.chatId}`} />\n                  ) : null}\n                  <div className=\"edit-icons\">\n                    {this.props.showEditOptions ? (\n                      <div>\n                        <i\n                          className=\"fas fa-pen\"\n                          onClick={this.toggleEditForm}\n                        ></i>\n                        <i\n                          className=\"fas fa-trash\"\n                          onClick={this.deleteProject}\n                        ></i>\n                      </div>\n                    ) : null}\n                  </div>\n                </div>\n\n                <div className=\"project-name\">\n                  <p id=\"colored-p\">{this.props.project.title}</p>\n                  <p id=\"small-p\">{this.props.project.about}</p>\n                </div>\n\n                <div className=\"likes-comments\">\n                  <div className=\"like-comment-calculator\">\n                    {this.state.comments.length > 0 ? (\n                      <p onClick={this.toggleComments} className=\"comment-line\">\n                        {this.state.comments.length} comments\n                      </p>\n                    ) : null}\n                    {this.state.likedBy.length > 0 ? (\n                      <div\n                        className=\"likedBy-line\"\n                        onClick={this.toggleLikesPopUp}\n                      >\n                        {this.state.likedBy.map((user, index) => {\n                          if (index <= 2) {\n                            return (\n                              <div key={user._id} id=\"mini-img-container\">\n                                <img src={user.image} id=\"mini-img\" />\n                              </div>\n                            );\n                          }\n                        })}\n\n                        <div className=\"likedBy-line-written\">\n                          <p>\n                            {`liked by ${this.state.likedBy[0].username} `}{\" \"}\n                          </p>\n                          {this.state.likedBy.length >= 2 ? (\n                            <p>\n                              {` and ${this.state.likedBy.length - 1} others`}{\" \"}\n                            </p>\n                          ) : null}\n                        </div>\n                      </div>\n                    ) : null}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div className=\"project-card back\" onClick={this.toggleCard}>\n            <div className=\"link-icons\">\n              <a href={this.props.project.githubLink} target=\"_blank\">\n                <i className=\"fab fa-github\"></i>\n              </a>\n              <a href={this.props.project.deployedLink} target=\"_blank\">\n                <i className=\"fas fa-globe\"></i>\n              </a>\n            </div>\n            <div className=\"description\">\n              <p>{this.props.project.description} </p>\n              <p>technologies used: {this.props.project.technologies} </p>\n            </div>\n          </div>\n        )}\n        {this.state.showEditForm ? (\n          <EditProject\n            project={this.props.project}\n            toggleForm={this.toggleEditForm}\n            displayProjects={this.props.displayProjects}\n          />\n        ) : null}\n        {this.state.showCommentSection ? (\n          <div className=\"comment-section\">\n            {this.props.showCommentInput ? (\n              <AddComment\n                project={this.props.project}\n                displayComments={this.displayComments}\n                toggleComments={this.toggleComments}\n              />\n            ) : (\n              <form className=\"comment-input\">\n                <input placeholder=\"log in to write a comment\" />\n                <button onClick={this.showAlert}>Post</button>\n              </form>\n            )}\n            <div>\n              {this.state.comments\n                .map((comment) => {\n                  return (\n                    <div key={comment._id}>\n                      <Comment\n                        comment={comment}\n                        displayComments={this.displayComments}\n                      />\n                    </div>\n                  );\n                })\n                .reverse()}\n            </div>\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(ProjectCard);\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../../context/auth-context\";\nimport axios from \"axios\";\n\nclass EditUserName extends Component {\n  state = {\n    username: this.props.userToEdit.username,\n    occupation: this.props.userToEdit.occupation,\n    image: this.props.userToEdit.image,\n  };\n\n  handleInput = (event) => {\n    let { name, value, type } = event.target;\n    console.log(value);\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    const { username, occupation, image } = this.state;\n\n    const userId = this.props.user._id;\n\n    axios\n      .put(\n        `${process.env.REACT_APP_API_URL}/api/user/${userId}`,\n        {\n          username,\n          occupation,\n          image,\n        },\n        { withCredentials: true }\n      )\n      .then(() => {\n        this.props.editUserName();\n        this.props.displayProjects();\n      })\n      .catch((err) => console.log(err));\n\n    this.setState({\n      username: \"\",\n      occupation: \"\",\n    });\n  };\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <input\n          type=\"text\"\n          name=\"username\"\n          value={this.state.username}\n          onChange={this.handleInput}\n          placeholder=\"username\"\n          className=\"edit-input\"\n          maxlength=\"20\"\n          required\n        />\n\n        <button type=\"submit\" className=\"edit-input-button\">\n          <i class=\"fas fa-pen\" type=\"submit\"></i>\n        </button>\n      </form>\n    );\n  }\n}\n\nexport default withAuth(EditUserName);\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../../context/auth-context\";\nimport axios from \"axios\";\n\nclass EditOccupation extends Component {\n  state = {\n    username: this.props.userToEdit.username,\n    occupation: this.props.userToEdit.occupation,\n    image: this.props.userToEdit.image,\n  };\n\n  handleInput = (event) => {\n    let { name, value, type } = event.target;\n    console.log(value);\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    const { username, occupation, image } = this.state;\n\n    const userId = this.props.user._id;\n\n    axios\n      .put(\n        `${process.env.REACT_APP_API_URL}/api/user/${userId}`,\n        {\n          username,\n          occupation,\n          image,\n        },\n        { withCredentials: true }\n      )\n      .then(() => {\n        this.props.editOccupation();\n        this.props.displayProjects();\n      })\n      .catch((err) => console.log(err));\n\n    this.setState({\n      username: \"\",\n      occupation: \"\",\n    });\n  };\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <input\n          type=\"text\"\n          name=\"occupation\"\n          className=\"edit-input\"\n          value={this.state.occupation}\n          onChange={this.handleInput}\n          placeholder=\"occupation\"\n          maxlength=\"25\"\n          required\n        />\n        <button type=\"submit\" className=\"edit-input-button\">\n          <i class=\"fas fa-pen\" type=\"submit\"></i>\n        </button>\n      </form>\n    );\n  }\n}\n\nexport default withAuth(EditOccupation);\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../../context/auth-context\";\nimport axios from \"axios\";\n\nclass EditUserImage extends Component {\n  state = {\n    username: this.props.userToEdit.username,\n    occupation: this.props.userToEdit.occupation,\n    image: this.props.userToEdit.image,\n    showLoadingMessage: false,\n  };\n\n  handleInput = (event) => {\n    let { name, value, type } = event.target;\n    console.log(value);\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    const { username, occupation, image } = this.state;\n\n    const userId = this.props.user._id;\n\n    axios\n      .put(\n        `${process.env.REACT_APP_API_URL}/api/user/${userId}`,\n        {\n          username,\n          occupation,\n          image,\n        },\n        { withCredentials: true }\n      )\n      .then(() => {\n        this.props.editUserImage();\n        this.props.displayProjects();\n      })\n      .catch((err) => console.log(err));\n\n    this.setState({\n      username: \"\",\n      occupation: \"\",\n    });\n  };\n\n  handleFileUpload = (e) => {\n    this.setState({\n      showLoadingMessage: true,\n    });\n    console.log(\"The file to be uploaded is: \", e.target.files);\n    const file = e.target.files[0];\n\n    const uploadData = new FormData();\n    // image => this name has to be the same as in the model since we pass\n    // req.body to .create() method when creating a new project in '/api/projects' POST route\n    uploadData.append(\"image\", file);\n\n    axios\n      .post(`${process.env.REACT_APP_API_URL}/api/upload`, uploadData, {\n        withCredentials: true,\n      })\n      .then((response) => {\n        console.log(\"response is: \", response);\n        // after the console.log we can see that response carries 'secure_url' which we can use to update the state\n        this.setState({\n          image: response.data.secure_url,\n          showLoadingMessage: false,\n        });\n      })\n      .catch((err) => {\n        console.log(\"Error while uploading the file: \", err);\n      });\n  };\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit} className=\"image-upload-form\">\n        <span>\n          <img\n            className=\"user-image\"\n            src={this.state.image && this.state.image}\n            alt=\"uploading\"\n          ></img>\n        </span>\n\n        {this.state.showLoadingMessage ? (\n          <p id=\"loading-message\">loading</p>\n        ) : null}\n        <div>\n          <input\n            className=\"image-upload\"\n            name=\"image\"\n            type=\"file\"\n            onChange={this.handleFileUpload}\n          ></input>\n          <button type=\"submit\">\n            <i class=\"fas fa-upload\" type=\"submit\"></i>\n          </button>\n        </div>\n      </form>\n    );\n  }\n}\n\nexport default withAuth(EditUserImage);\n","import React, { Component } from \"react\";\nimport { withAuth } from \"./../context/auth-context\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Navbar from \"./../components/Navbar/Navbar\";\nimport AddProject from \"./../components/AddProject/AddProject\";\nimport ProjectCard from \"../components/ProjectCard/ProjectCard\";\nimport PopUp from \"../components/PopUp/PopUp\";\nimport EditUserName from \"../components/EditUser/EditUserName\";\nimport EditOccupation from \"../components/EditUser/EditOccupation\";\nimport EditUserImage from \"../components/EditUser/EditUserImage\";\n\nclass Private extends Component {\n  state = {\n    user: {},\n    username: \"\",\n    image: \"\",\n    portfolio: [],\n    showForm: false,\n    showFollowersPopUp: false,\n    showFollowingPopUp: false,\n    showUserNameInput: false,\n    showOccupationInput: false,\n    showImageUpload: false,\n    followers: [],\n    following: [],\n    unreadMessages: 0,\n  };\n\n  toggleForm = () => {\n    this.setState({ showForm: !this.state.showForm });\n  };\n\n  displayProjects = () => {\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/api/user`, {\n        withCredentials: true,\n      })\n      .then((response) => {\n        console.log(\"rendered\");\n        this.setState({\n          user: response.data,\n          username: response.data.username,\n          occupation: response.data.occupation,\n          portfolio: response.data.portfolio,\n          followers: response.data.followers,\n          following: response.data.following,\n          image: response.data.image,\n        });\n\n        response.data.chats.forEach((chat) => {\n          axios\n            .get(`${process.env.REACT_APP_API_URL}/api/chat/${chat._id}`)\n            .then((response) => {\n              const filtered = response.data.messages.filter((message) => {\n                return (\n                  message.seen === false &&\n                  message.sentBy !== this.props.user._id\n                );\n              });\n\n              this.setState({\n                unreadMessages: this.state.unreadMessages + filtered.length,\n              });\n              console.log(filtered.length);\n            })\n            .catch((err) => {\n              console.log(err);\n            });\n        });\n      })\n\n      .catch((err) => console.log(err));\n  };\n\n  toggleFollowersPopup = () => {\n    this.setState({ showFollowersPopUp: !this.state.showFollowersPopUp });\n  };\n\n  toggleFollowingPopup = () => {\n    this.setState({ showFollowingPopUp: !this.state.showFollowingPopUp });\n  };\n\n  editUserImage = () => {\n    this.setState({ showImageUpload: !this.state.showImageUpload });\n  };\n\n  editUsername = () => {\n    this.setState({ showUserNameInput: !this.state.showUserNameInput });\n  };\n\n  editOccupation = () => {\n    this.setState({ showOccupationInput: !this.state.showOccupationInput });\n  };\n\n  componentDidMount = () => {\n    this.displayProjects();\n  };\n\n  render() {\n    console.log(this.state.following);\n\n    return (\n      <div className=\"user-profile\">\n        <Navbar />\n        {this.props.user ? (\n          <div>\n            <div className=\"user-details private-user-details\">\n              {this.state.showImageUpload ? (\n                <EditUserImage\n                  editUserImage={this.editUserImage}\n                  displayProjects={this.displayProjects}\n                  userToEdit={this.state.user}\n                />\n              ) : (\n                <div className=\"edit-user-image\">\n                  <img src={this.state.image} className=\"user-image\" />\n                  <i\n                    class=\"fas fa-plus-circle\"\n                    onClick={this.editUserImage}\n                  ></i>\n                  {/* <i class=\"fas fa-pen\" onClick={this.editUserImage}></i> */}\n                </div>\n              )}\n              <div>\n                <div>\n                  {this.state.showUserNameInput ? (\n                    <EditUserName\n                      editUserName={this.editUsername}\n                      displayProjects={this.displayProjects}\n                      userToEdit={this.state.user}\n                    />\n                  ) : (\n                    <div className=\"edit-user\">\n                      <h2>{this.state.username}</h2>\n                      <i class=\"fas fa-pen\" onClick={this.editUsername}></i>\n                    </div>\n                  )}\n\n                  {this.state.showOccupationInput ? (\n                    <EditOccupation\n                      editOccupation={this.editOccupation}\n                      displayProjects={this.displayProjects}\n                      userToEdit={this.state.user}\n                    />\n                  ) : (\n                    <div className=\"edit-user\">\n                      <h4>{this.state.occupation}</h4>\n                      <i class=\"fas fa-pen\" onClick={this.editOccupation}></i>\n                    </div>\n                  )}\n                </div>\n                <div className=\"followers-following\">\n                  <p onClick={this.toggleFollowersPopup}>\n                    {this.state.followers.length} followers\n                  </p>\n\n                  {this.state.showFollowersPopUp &&\n                  this.state.followers.length > 0 ? (\n                    <PopUp\n                      userArray={this.state.followers}\n                      togglePopUp={this.toggleFollowersPopup}\n                    />\n                  ) : null}\n\n                  <p onClick={this.toggleFollowingPopup}>\n                    {this.state.following.length} following\n                  </p>\n\n                  {this.state.showFollowingPopUp &&\n                  this.state.following.length > 0 ? (\n                    <PopUp\n                      userArray={this.state.following}\n                      togglePopUp={this.toggleFollowingPopup}\n                    />\n                  ) : null}\n                </div>\n              </div>\n            </div>\n\n            <p id=\"welcome-message\">Welcome back {this.state.username}!</p>\n\n            {this.state.unreadMessages === 0 ? (\n              <Link to=\"/chat\" className=\"link\">\n                <p id=\"no-new-message\">\n                  <i class=\"fas fa-comment-dots\" id=\"black-comment-dots\"></i>\n                  You have no new messages.\n                </p>\n              </Link>\n            ) : this.state.unreadMessages === 1 ? (\n              <Link to=\"/chat\" className=\"link\">\n                <p id=\"notification-message\">\n                  <i class=\"fas fa-comment-dots\" id=\"black-comment-dots\"></i>\n                  You have {this.state.unreadMessages} new message.\n                </p>\n              </Link>\n            ) : (\n              <Link to=\"/chat\" className=\"link\">\n                <p id=\"notification-message\">\n                  <i class=\"fas fa-comment-dots\" id=\"black-comment-dots\"></i>\n                  You have {this.state.unreadMessages} new messages.\n                </p>\n              </Link>\n            )}\n          </div>\n        ) : null}\n\n        <div id=\"add-project\">\n          <button onClick={this.toggleForm}>Add a new project</button>\n        </div>\n\n        {this.state.showForm ? (\n          <AddProject\n            displayProjects={this.displayProjects}\n            toggleForm={this.toggleForm}\n          />\n        ) : null}\n\n        {this.state.portfolio\n          .map((project) => {\n            return (\n              <ProjectCard\n                project={project}\n                displayProjects={this.displayProjects}\n                showEditOptions={true}\n                showCommentInput={true}\n                enableLikes={true}\n                updateLikes={this.displayProjects}\n              />\n            );\n          })\n          .reverse()}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Private);\n","import React from \"react\";\nimport axios from \"axios\";\nimport Navbar from \"./../components/Navbar/Navbar\";\nimport ProjectCard from \"./../components/ProjectCard/ProjectCard\";\nimport { withAuth } from \"./../context/auth-context\";\nimport PopUp from \"./../components/PopUp/PopUp\";\nimport { Link } from \"react-router-dom\";\nimport { Redirect } from \"react-router-dom\";\n\nclass UserProfile extends React.Component {\n  state = {\n    user: {},\n    currentUser: {},\n    followers: [],\n    userIsFollowing: [],\n    following: false,\n    portfolio: [],\n    loggedInUser: false,\n    showFollowersPopUp: false,\n    showFollowingPopUp: false,\n    showEmail: false,\n    redirect: false,\n    chatId: \"\",\n    displayLogInAlert: true,\n  };\n\n  componentDidMount = () => {\n    const { id } = this.props.match.params;\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/api/user/${id}`)\n      .then((response) => {\n        this.setState({\n          user: response.data,\n          portfolio: response.data.portfolio,\n          followers: response.data.followers,\n          userIsFollowing: response.data.following,\n        });\n\n        if (this.props.user) {\n          this.setState({ loggedInUser: true });\n\n          if (\n            response.data.followers.some(\n              (follower) => follower._id === this.props.user._id\n            )\n          ) {\n            console.log(\"YES IT INCLUDES\");\n            this.setState({ following: true });\n          }\n\n          // axios\n          //   .get(`http://localhost:5000/api/user`, { withCredentials: true })\n          //   .then((response) => {\n          //     const isFollowing = response.data.following.includes(\n          //       this.state.user._id\n          //     );\n\n          //     console.log(\"FOLLOWING?!\", isFollowing);\n\n          //     this.setState({\n          //       currentUser: response.data,\n          //       following: isFollowing,\n          //     });\n          //     console.log(this.state.currentUser);\n          //   })\n          //   .catch((err) => console.log(err));\n        }\n      })\n      .catch((err) => console.log(err));\n  };\n\n  toggleFollowersPopup = () => {\n    this.setState({ showFollowersPopUp: !this.state.showFollowersPopUp });\n  };\n\n  toggleFollowingPopup = () => {\n    this.setState({ showFollowingPopUp: !this.state.showFollowingPopUp });\n  };\n\n  followUser = () => {\n    const { id } = this.props.match.params;\n    const currentUserId = this.props.user._id;\n    axios\n      .post(\n        `${process.env.REACT_APP_API_URL}/api/user/follow/${id}`,\n        { currentUserId },\n        {\n          withCredentials: true,\n        }\n      )\n      .then((response) => {\n        console.log(\"followed succesfully\");\n        this.setState({\n          following: true,\n        });\n        this.componentDidMount();\n      })\n      .catch((err) => console.log(err));\n  };\n\n  unfollowUser = () => {\n    const { id } = this.props.match.params;\n    const currentUserId = this.props.user._id;\n    axios\n      .post(\n        `${process.env.REACT_APP_API_URL}/api/user/unfollow/${id}`,\n        { currentUserId },\n        {\n          withCredentials: true,\n        }\n      )\n      .then((response) => {\n        console.log(\"unfollowed succesfully\");\n        const newFollowers = this.state.followers.filter(\n          (follower) => follower._id !== currentUserId\n        );\n        this.setState({ following: false, followers: newFollowers });\n      })\n      .catch((err) => console.log(err));\n  };\n\n  displayEmail = () => {\n    this.setState({ showEmail: !this.state.showEmail });\n  };\n\n  createChat = () => {\n    if (this.props.user) {\n      const { id } = this.props.match.params;\n      const currentUserId = this.props.user._id;\n\n      if (\n        this.state.user.chats.some((chat) => {\n          return chat.participants.includes(this.props.user._id);\n        })\n      ) {\n        console.log(\"chat already exists\");\n\n        const filteredChat = this.state.user.chats.filter((chat) => {\n          return chat.participants.includes(this.props.user._id);\n        });\n\n        this.setState({ chatId: filteredChat[0]._id, redirect: true });\n      } else {\n        axios\n          .post(\n            `${process.env.REACT_APP_API_URL}/api/chat/${id}`,\n            { currentUserId },\n            {\n              withCredentials: true,\n            }\n          )\n          .then((response) => {\n            console.log(\"new chat created\", response.data);\n            this.setState({ chatId: response.data, redirect: true });\n          })\n          .catch((err) => console.log(err));\n      }\n    } else {\n      alert(\"Please log in to contact \" + this.state.user.username);\n    }\n  };\n\n  followNotLoggedIn = () => {\n    alert(\"Please log in to follow \" + this.state.user.username);\n  };\n\n  render() {\n    console.log(this.state.userIsFollowing);\n    return (\n      <div className=\"user-profile\">\n        <Navbar />\n        <div className=\"user-details\">\n          <div className=\"top-left\">\n            <img src={this.state.user.image} className=\"user-image\" />\n            <div>\n              <h2>{this.state.user.username}</h2>\n              <h4>{this.state.user.occupation}</h4>\n              <div className=\"followers-following\">\n                <p onClick={this.toggleFollowersPopup}>\n                  {this.state.followers.length} followers\n                </p>\n\n                {this.state.showFollowersPopUp &&\n                this.state.followers.length > 0 ? (\n                  <PopUp\n                    userArray={this.state.followers}\n                    togglePopUp={this.toggleFollowersPopup}\n                  />\n                ) : null}\n\n                <p onClick={this.toggleFollowingPopup}>\n                  {this.state.userIsFollowing.length} following\n                </p>\n\n                {this.state.showFollowingPopUp &&\n                this.state.userIsFollowing.length > 0 ? (\n                  <PopUp\n                    userArray={this.state.userIsFollowing}\n                    togglePopUp={this.toggleFollowingPopup}\n                  />\n                ) : null}\n              </div>\n            </div>\n          </div>\n          <div className=\"user-details-bottom\">\n            {this.props.user && this.state.following ? (\n              <button onClick={this.unfollowUser} className=\"follow-button\">\n                {\" \"}\n                - Unfollow\n              </button>\n            ) : null}\n\n            {!this.props.user ? (\n              <button\n                onClick={this.followNotLoggedIn}\n                className=\"follow-button\"\n              >\n                {\" \"}\n                + Follow\n              </button>\n            ) : null}\n            {this.props.user && !this.state.following ? (\n              <button onClick={this.followUser} className=\"follow-button\">\n                {\" \"}\n                + Follow\n              </button>\n            ) : null}\n            {/* {this.state.displayLogInAlert ? (\n              <i class=\"far fa-comment-alt\">\n                <p>You need to log in</p>\n              </i>\n            ) : null} */}\n            <button className=\"follow-button\" onClick={this.createChat}>\n              Message\n            </button>\n\n            {this.state.redirect ? (\n              <Redirect to={`/conversation/${this.state.chatId}`} />\n            ) : null}\n\n            <button className=\"follow-button\" onClick={this.displayEmail}>\n              Email\n            </button>\n            {this.state.showEmail ? (\n              <p className=\"email-show\">{this.state.user.email}</p>\n            ) : null}\n          </div>\n        </div>\n\n        {this.state.portfolio.length > 0\n          ? this.state.user.portfolio\n              .map((project) => {\n                return (\n                  <div key={project._id}>\n                    <ProjectCard\n                      madeBy={this.state.user}\n                      project={project}\n                      showEditOptions={false}\n                      showCommentInput={this.state.loggedInUser}\n                      enableLikes={this.state.loggedInUser}\n                      updateLikes={this.componentDidMount}\n                    />\n                  </div>\n                );\n              })\n              .reverse()\n          : null}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(UserProfile);\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction LandingPage() {\n  return (\n    <div id=\"landing-page\">\n      <p>\n        Connect with other developers and share your portfolio with companies - all in one place.\n      </p>\n      <div>\n        <Link to={\"/signup\"}>\n          <button className=\"landing-btn\">Get started</button>\n        </Link>\n        <Link to={\"/home\"}>\n          <button className=\"landing-btn\">Explore</button>\n        </Link>\n      </div>\n    </div>\n  );\n}\n\nexport default LandingPage;\n","import React, { Component } from \"react\";\nimport \"./ChatUserCard.css\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport axios from \"axios\";\n\nclass ChatUserCard extends Component {\n  state = {\n    chat: {},\n    otherUser: [],\n    lastMessage: {},\n    lastMessageLength: 0,\n    hasUnreadMessages: false,\n    unreadMessages: [],\n  };\n\n  componentDidMount = () => {\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/api/chat/${this.props.chat._id}`)\n      .then((response) => {\n        this.setState({ chat: response.data });\n\n        const otherParticipants = response.data.participants.filter((user) => {\n          return user._id !== this.props.user._id;\n        });\n\n        console.log(\n          response.data.messages[response.data.messages.length - 1].text.length\n        );\n\n        this.setState({\n          otherUser: otherParticipants[0],\n          lastMessage:\n            response.data.messages[response.data.messages.length - 1],\n          lastMessageLength:\n            response.data.messages[response.data.messages.length - 1].text\n              .length,\n        });\n\n        if (\n          response.data.messages.some((message) => {\n            return !message.seen && message.sentBy !== this.props.user._id;\n          })\n        ) {\n          const filtered = response.data.messages.filter((message) => {\n            return !message.seen && message.sentBy !== this.props.user._id;\n          });\n\n          this.setState({ hasUnreadMessages: true, unreadMessages: filtered });\n        }\n      })\n      .catch((err) => console.log(err));\n  };\n\n  readChat = () => {\n    const messagesOfOtherUser = this.state.chat.messages.filter((message) => {\n      return message.sentBy !== this.props.user._id;\n    });\n\n    console.log(\"OTHER MESSAGES\", messagesOfOtherUser);\n\n    messagesOfOtherUser.forEach((message) => {\n      axios\n        .put(`${process.env.REACT_APP_API_URL}/api/message/read/${message._id}`)\n        .then(() => {\n          console.log(\"message was read\");\n          this.setState({ hasUnreadMessages: false });\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    });\n  };\n\n  render() {\n    console.log(this.state.messages);\n    return (\n      <div>\n        <Link to={`/conversation/${this.state.chat._id}`} className=\"link\">\n          <div className=\"user-in-chat\" onClick={this.readChat}>\n            <div id=\"user-chat-info-card\">\n              <img src={this.state.otherUser.image} />\n              <div>\n                <p id=\"chat-card-username\">{this.state.otherUser.username}</p>\n                <div id=\"chat-preview-line\">\n                  <p id=\"chat-preview\">{this.state.lastMessage.text}</p>\n                  {this.state.lastMessageLength > 30 ? (\n                    <span id=\"dots\">...</span>\n                  ) : null}\n                </div>\n              </div>\n            </div>\n\n            {this.state.hasUnreadMessages ? (\n              <div className=\"new-message-alert\">\n                <p>{this.state.unreadMessages.length}</p>\n              </div>\n            ) : null}\n          </div>\n        </Link>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(ChatUserCard);\n","import React, { Component } from \"react\";\nimport queryString from \"query-string\";\nimport { withAuth } from \"./../context/auth-context\";\nimport axios from \"axios\";\nimport ChatUserCard from \"../components/ChatUserCard/ChatUserCard\";\nimport Navbar from \"../components/Navbar/Navbar\";\nimport moment from \"moment\";\nimport { Link } from \"react-router-dom\";\n\n// /**SOCKET****/\n// import io from \"socket.io-client\";\n// const ENDPOINT = \"http://localhost:5000\";\n// let socket = io(ENDPOINT);\n// /********/\n\nclass Chat extends Component {\n  state = {\n    chats: [],\n    sortedChats: [],\n    online: [],\n    openChat: {},\n  };\n\n  // startSocket = () => {\n  //   socket.emit(\"join-main\", { user: this.props.user._id }, (error) => {\n  //     if (error) {\n  //       console.log(error);\n  //     }\n  //   });\n\n  //   socket.on(\"message\", (message) => {\n  //     console.log(\"New message received in one of the chats\");\n  //     this.getAllChats();\n  //   });\n  // };\n\n  componentDidMount = () => {\n    this.getAllChats();\n    // this.startSocket();\n  };\n\n  getAllChats = () => {\n    const userId = this.props.user._id;\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/api/user`, { withCredentials: true })\n      .then((response) => {\n        //convert updated_at into timestamp\n\n        const convertedArray = response.data.chats.map((chat) => {\n          chat.updated_at = Date.parse(chat.updated_at);\n          return chat;\n        });\n\n        console.log(convertedArray);\n\n        //sort the chats by the time they were last updated\n\n        const sortedByTime = convertedArray.sort((chat1, chat2) => {\n          return chat2.updated_at - chat1.updated_at;\n        });\n\n        console.log(\"CHATS:\", response.data.chats);\n\n        this.setState({\n          chats: response.data.chats,\n          sortedChats: sortedByTime,\n        });\n      })\n      .catch((err) => console.log(err));\n  };\n\n  readChat = (chat) => {\n    console.log(`chat with id ${chat._id} is now open`);\n    console.log(chat.messages);\n    // const messagesOfOtherUser = chat.messages.filter((message) => {\n    //   return message.sentBy !== this.props.user._id;\n    // });\n\n    // console.log(\"OTHER MESSAGES\", messagesOfOtherUser);\n\n    this.setState({ openChat: chat });\n  };\n\n  render() {\n    return (\n      <div>\n        <Navbar />\n        {this.state.sortedChats.length === 0 ? (\n          <p id=\"empty-chat\">\n            You don't have any chats yet. <Link to={\"/home\"}>Search</Link> for a\n            user you want to connect with and start a conversation through their\n            profile page.\n          </p>\n        ) : (\n          <div id=\"chatlist-scroll-bar\">\n            {this.state.sortedChats.map((chat) => {\n              return (\n                <div\n                  key={chat._id}\n                  onClick={() => {\n                    this.readChat(chat);\n                  }}\n                >\n                  <ChatUserCard chat={chat} />\n                </div>\n              );\n            })}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Chat);\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"./../context/auth-context\";\nimport axios from \"axios\";\nimport Navbar from \"./../components/Navbar/Navbar\";\n\n/**SOCKET****/\nimport io from \"socket.io-client\";\nconst ENDPOINT = \"http://localhost:5000\";\nlet socket = io(ENDPOINT);\n/********/\n\nclass Conversation extends Component {\n  state = {\n    text: \"\",\n    chat: {},\n    messages: [],\n    otherUser: {},\n    typing: false,\n  };\n\n  /**********************SOCKET*************************************/\n  startSocket = () => {\n    socket.emit(\n      \"join\",\n      { room: this.state.chat._id, user: this.props.user._id },\n      (error) => {\n        if (error) {\n          console.log(error);\n        }\n      }\n    );\n\n    socket.on(\"message\", (message) => {\n      console.log(\"socket.on was called\");\n      this.getAllMessages();\n    });\n\n    // socket.on(\"type\", (message) => {\n    //   this.setState({ typing: true });\n    // });\n\n    // socket.on(\"messageIsSeen\", () => {\n    //   this.componentDidMount();\n    // });\n\n    // socket.on(\"type\", () => {\n    //   this.setState({ isTyping: true });\n    //   //   this.scrollToBottom();\n    // });\n\n    // socket.on(\"StopType\", () => {\n    //   this.setState({ isTyping: false });\n    // });\n\n    // this.sendDelete();\n  };\n\n  /**************************************************************/\n\n  handleInput = (event) => {\n    let { name, value, type } = event.target;\n    this.setState({ [name]: value });\n    // console.log(\"typing\");\n\n    // socket.emit(\"typing\", { room: this.state.chat._id }, (error) => {\n    //   if (error) {\n    //     console.log(error);\n    //   }\n    // });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    const { text } = this.state;\n\n    const userId = this.props.user._id;\n\n    axios\n      .post(\n        `${process.env.REACT_APP_API_URL}/api/message`,\n        {\n          chat: this.state.chat._id,\n          sentBy: userId,\n          text: this.state.text,\n        },\n        { withCredentials: true }\n      )\n      .then(() => {\n        this.getAllMessages();\n\n        socket.emit(\n          \"sendMessage\",\n          { room: this.state.chat._id, user: this.props.user._id },\n          (error) => {\n            if (error) {\n              console.log(error);\n            }\n          }\n        );\n      })\n      .catch((err) => console.log(err));\n\n    this.setState({\n      text: \"\",\n    });\n  };\n\n  scrollToBottom = () => {\n    this.el.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  componentDidMount = () => {\n    // setInterval(this.componentDidMount, 2000);\n    // this.startSocket();\n    // this.getAllMessages();\n    this.mountComponent();\n  };\n\n  getAllMessages = () => {\n    const { id } = this.props.match.params;\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/api/chat/${id}`)\n      .then((response) => {\n        const otherParticipants = response.data.participants.filter((user) => {\n          return user._id !== this.props.user._id;\n        });\n\n        this.setState({\n          chat: response.data,\n          messages: response.data.messages,\n          otherUser: otherParticipants[0],\n        });\n\n        this.setMessageToSeen();\n\n        this.scrollToBottom();\n      })\n      .catch((err) => console.log(err));\n  };\n\n  setMessageToSeen = () => {\n    const newMessage = this.state.messages.filter((message) => {\n      return message.sentBy !== this.props.user._id && message.seen === false;\n    });\n    console.log(\"NEW MESSAGE\", newMessage);\n    if (newMessage.length > 0) {\n      axios\n        .put(\n          `${process.env.REACT_APP_API_URL}/api/message/read/${newMessage[0]._id}`\n        )\n        .then((response) => {\n          console.log(\"new message updated\");\n        })\n        .catch((err) => console.log(err));\n    }\n  };\n\n  mountComponent = () => {\n    const { id } = this.props.match.params;\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/api/chat/${id}`)\n      .then((response) => {\n        const otherParticipants = response.data.participants.filter((user) => {\n          return user._id !== this.props.user._id;\n        });\n\n        this.setState({\n          chat: response.data,\n          messages: response.data.messages,\n          otherUser: otherParticipants[0],\n        });\n        this.startSocket();\n        this.scrollToBottom();\n      })\n      .catch((err) => console.log(err));\n  };\n\n  render() {\n    return (\n      <div id=\"conversation-page\">\n        <div id=\"chat-navbar\">\n          <Navbar />\n        </div>\n        <div className=\"chat-info-bar\">\n          <div className=\"chat-info\">\n            <Link to={\"/chat\"}>\n              <i class=\"fas fa-angle-left\"></i>\n            </Link>\n            <img src={this.state.otherUser.image} className=\"chat-user-img\" />\n            <p>{this.state.otherUser.username}</p>\n          </div>\n          <hr />\n        </div>\n        <div className=\"conversation\">\n          {this.state.messages.map((message, index) => {\n            if (message.sentBy === this.props.user._id) {\n              return (\n                <div key={message._id} className=\"message-container right\">\n                  <p className=\"message right-blue\">{message.text}</p>\n                  {index === this.state.messages.length - 1 && message.seen ? (\n                    <p className=\"seen\">Seen</p>\n                  ) : null}\n                </div>\n              );\n            } else {\n              return (\n                <div key={message._id} className=\"message-container left\">\n                  <p className=\"message left-red\">{message.text}</p>\n                </div>\n              );\n            }\n          })}\n          <div\n            ref={(el) => {\n              this.el = el;\n            }}\n            id=\"bottom-of-scroll\"\n          ></div>\n          {this.state.typing ? <p>typing</p> : null}\n        </div>\n\n        <form onSubmit={this.handleSubmit} className=\"send-message-form\">\n          <input\n            type=\"text\"\n            name=\"text\"\n            value={this.state.text}\n            onChange={this.handleInput}\n            placeholder=\"type something here...\"\n            required\n          />\n          <button type=\"submit\" className=\"send-button\">\n            Send\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Conversation);\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { withAuth } from \"./../context/auth-context\";\nimport Navbar from \"./Navbar/Navbar\";\n\n// Route that only allows access to a user who is not logged in\n\nfunction AnonRoute(routeProps) {\n  // Value coming from `AuthProvider` ( via `withAuth` )\n  const { isLoggedIn, isLoading } = routeProps;\n\n  // Values coming from the AnonRoute itself\n  const ComponentToShow = routeProps.component;\n  const { exact, path } = routeProps;\n\n  // If AuthProvider is still making request to check the user\n  if (isLoading) return \"Loading\";\n\n  return (\n    <Route\n      exact={exact}\n      path={path}\n      render={function (props) {\n        if (isLoggedIn) return <Redirect to=\"/myprofile\" />;\n        else if (!isLoggedIn)\n          return (\n            <div>\n              <ComponentToShow {...props} />;\n            </div>\n          );\n      }}\n    />\n  );\n}\n\nexport default withAuth(AnonRoute);\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { withAuth } from \"./../context/auth-context\";\nimport Navbar from \"./Navbar/Navbar\";\n\n// Route that forbids access to a user who is not logged in\n\nfunction PrivateRoute(routeProps) {\n  // Value coming from `AuthProvider` ( via `withAuth` )\n  const { isLoggedIn, isLoading } = routeProps;\n\n  // Values coming from the PrivateRoute itself\n  const ComponentToShow = routeProps.component;\n  const { exact, path } = routeProps;\n\n  // If AuthProvider is still making request to check the user\n  if (isLoading) return \"Loading\";\n\n  return (\n    <Route\n      exact={exact}\n      path={path}\n      render={function (props) {\n        if (!isLoggedIn) return <Redirect to=\"/login\" />;\n        else if (isLoggedIn)\n          return (\n            <div>\n              <ComponentToShow {...props} />;\n            </div>\n          );\n      }}\n    />\n  );\n}\n\nexport default withAuth(PrivateRoute);\n\n/* \n// Concise way\nfunction PrivateRoute({ component: Component, isLoggedIn, ...rest }) {\n  return (\n   <Route\n    {...rest}\n    render={ (props)  => isLoggedIn ? <Component {...props} /> : <Redirect to=\"/login\" />}\n   /> \n)} \n*/\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport { Switch, Route } from \"react-router-dom\";\nimport withTheme from \"./hoc/withTheme\";\n\nimport Navbar from \"./components/Navbar/Navbar\";\nimport Home from \"./pages/Home\";\nimport Signup from \"./pages/Signup\";\nimport Login from \"./pages/Login\";\nimport Private from \"./pages/Private\";\nimport UserProfile from \"./pages/UserProfile\";\nimport LandingPage from \"./pages/LandingPage\";\nimport Chat from \"./pages/Chat\";\nimport Conversation from \"./pages/Conversation\";\n\nimport AnonRoute from \"./components/AnonRoute\";\nimport PrivateRoute from \"./components/PrivateRoute\";\nimport PublicRoute from \"./components/PrivateRoute\";\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\" style={this.props.style}>\n        <Switch>\n          <Route exact path=\"/\" component={LandingPage} />\n          <Route exact path=\"/home\" component={Home} />\n          <Route exact path=\"/user/:id\" component={UserProfile} />\n\n          <AnonRoute exact path=\"/signup\" component={Signup} />\n          <AnonRoute exact path=\"/login\" component={Login} />\n\n          <PrivateRoute exact path=\"/myprofile\" component={Private} />\n          <PrivateRoute exact path=\"/chat\" component={Chat} />\n          <PrivateRoute\n            exact\n            path=\"/conversation/:id\"\n            component={Conversation}\n          />\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default withTheme(App, \"light\");\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './App';\n\nimport { AuthProvider } from './context/auth-context';\n\nReactDOM.render(\n  <Router>\n    <AuthProvider>\n      <App />\n    </AuthProvider>\n  </Router>\n, document.getElementById('root'));\n"],"sourceRoot":""}