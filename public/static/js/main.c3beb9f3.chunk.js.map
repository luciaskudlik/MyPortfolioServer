{"version":3,"sources":["hoc/withTheme.js","components/Searchbar/Searchbar.js","lib/auth-service.js","context/auth-context.js","components/Navbar/Navbar.js","components/UserCard/UserCard.js","images/windows.jpg","images/ramiro-mendes-CjS3QsRuxnE-unsplash.jpg","components/Footer/Footer.js","pages/Home.js","pages/Signup.js","pages/Login.js","components/AddProject/AddProject.js","components/EditProject/EditProject.js","components/Comment/Comment.js","components/AddComment/AddComment.js","components/PopUp/PopUp.js","components/ProjectCard/ProjectCard.js","components/EditUser/EditUserName.js","components/EditUser/EditOccupation.js","components/EditUser/EditUserImage.js","pages/Private.js","pages/UserProfile.js","pages/LandingPage.js","components/ChatUserCard/ChatUserCard.js","pages/Chat.js","pages/Conversation.js","components/AnonRoute.js","components/PrivateRoute.js","App.js","index.js"],"names":["withTheme","WrappedComonent","mode","styleToApply","background","color","props","style","Searchbar","state","search","handleInput","event","target","value","name","setState","filterUsers","closeSearchbar","className","id","class","type","placeholder","this","onChange","onClick","Component","authService","auth","axios","create","baseURL","process","withCredentials","username","image","occupation","email","password","post","then","response","data","catch","err","console","log","get","React","createContext","Consumer","Provider","AuthProvider","isLoggedIn","isLoading","user","signup","login","logout","me","children","withAuth","WrappedComponent","newUnreadMessages","componentDidMount","chats","forEach","chat","_id","messages","unreadMessages","filter","message","seen","sentBy","length","to","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","aria-current","userOnCard","src","Footer","Home","allUsers","filteredUsers","showErrorMessage","hidePageContent","input","filtered","userName","toLowerCase","searchInput","includes","map","image1","image2","showLoadingMessage","handleFormSubmit","preventDefault","handleChange","handleFileUpload","e","files","file","uploadData","FormData","append","secure_url","onSubmit","maxlength","required","alt","title","about","description","technologies","deployedLink","githubLink","handleSubmit","userId","displayProjects","toggleForm","width","height","borderRadius","project","comments","commentIds","likedBy","put","writtenBy","deleteComment","comment","displayComments","created_at","commentedAt","moment","startOf","fromNow","text","projectId","PopUp","togglePopUp","userArray","showFront","showEditForm","showCommentSection","showLikesPopUp","chatId","redirect","createChat","madeBy","currentUserId","some","participants","filteredChat","alert","toggleCard","deleteProject","toggleEditForm","toggleComments","commentIdsExtracted","showAlert","toggleLikesPopUp","like","updateLikes","dislike","enableLikes","every","showEditOptions","index","href","showCommentInput","reverse","userToEdit","editUserName","editOccupation","editUserImage","portfolio","showForm","showFollowersPopUp","showFollowingPopUp","showUserNameInput","showOccupationInput","showImageUpload","followers","following","toggleFollowersPopup","toggleFollowingPopup","editUsername","currentUser","userIsFollowing","loggedInUser","showEmail","displayLogInAlert","match","params","follower","followUser","unfollowUser","newFollowers","displayEmail","followNotLoggedIn","LandingPage","otherUser","lastMessage","lastMessageLength","hasUnreadMessages","otherParticipants","readChat","messagesOfOtherUser","sortedChats","online","openChat","getAllChats","convertedArray","updated_at","Date","parse","sortedByTime","sort","chat1","chat2","socket","io","typing","startSocket","emit","room","error","on","getAllMessages","scrollToBottom","el","scrollIntoView","behavior","mountComponent","setMessageToSeen","newMessage","ref","routeProps","ComponentToShow","component","exact","path","render","UserProfile","Signup","Login","Private","Chat","Conversation","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.c3beb9f3.chunk.js","sourcesContent":["import React from \"react\";\n\nfunction withTheme(WrappedComonent, mode) {\n  const darkModeStyle = {\n    background: \"black\",\n    color: \"white\",\n  };\n\n  const lightModeStyle = {\n    background: \"white\",\n    color: \"black\",\n  };\n\n  const styleToApply = mode === \"dark\" ? darkModeStyle : lightModeStyle;\n\n  return function (props) {\n    return <WrappedComonent {...props} style={styleToApply} />\n  };\n}\n\nexport default withTheme;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport \"./Searchbar.css\";\n\nclass Searchbar extends Component {\n  state = {\n    search: \"\",\n  };\n\n  handleInput = (event) => {\n    const { value, name } = event.target;\n    this.setState({ [name]: value });\n    this.props.filterUsers(value);\n  };\n\n  closeSearchbar = () => {\n    this.setState({ search: \"\" });\n    this.props.filterUsers(\"\");\n  };\n\n  render() {\n    return (\n      <div className=\"search-container\">\n        <div id=\"search\">\n          <i class=\"fas fa-search search-icon\"></i>\n          <input\n            type=\"text\"\n            className=\"input search-bar\"\n            name=\"search\"\n            placeholder=\"Search for a user\"\n            value={this.state.search}\n            onChange={this.handleInput}\n          />\n        </div>\n        <i\n          class=\"fas fa-times-circle search-icon\"\n          onClick={this.closeSearchbar}\n        ></i>\n      </div>\n    );\n  }\n}\n\nexport default Searchbar;\n","import axios from \"axios\";\n\nclass AuthService {\n  constructor() {\n    this.auth = axios.create({\n      baseURL: process.env.REACT_APP_API_URL,\n      withCredentials: true,\n    });\n  }\n\n  signup(username, image, occupation, email, password) {\n    const pr = this.auth\n      .post(\"/auth/signup\", { username, image, occupation, email, password })\n      .then((response) => response.data)\n      .catch((err) => console.log(\"SIGNUP DIDNT WORK\"));\n    // .then(({ data }) => data); // Shorter way of `.then((response) => response.data);`\n\n    return pr;\n  }\n\n  login(email, password) {\n    const pr = this.auth\n      .post(\"/auth/login\", { email, password })\n      .then((response) => response.data);\n\n    return pr;\n  }\n\n  logout() {\n    const pr = this.auth.get(\"/auth/logout\").then((response) => response.data);\n\n    return pr;\n  }\n\n  me() {\n    const pr = this.auth.get(\"/auth/me\").then((response) => response.data);\n\n    return pr;\n  }\n}\n\nconst authService = new AuthService();\n\nexport default authService;\n\n// Service is a set of methods abstracted and placed into a class, out of which we create one instance.\n// In the above case, all axios request calls are abstracted into methods.\n","import React from \"react\";\nimport authService from \"./../lib/auth-service\";\n\nconst { Consumer, Provider } = React.createContext();\n\nclass AuthProvider extends React.Component {\n  state = {\n    isLoggedIn: false,\n    isLoading: true,\n    user: null,\n  };\n\n  componentDidMount() {\n    authService\n      .me()\n      .then((user) =>\n        this.setState({ isLoggedIn: true, user: user, isLoading: false })\n      )\n      .catch((err) =>\n        this.setState({ isLoggedIn: false, user: null, isLoading: false })\n      );\n  }\n\n  signup = (username, image, occupation, email, password) => {\n    authService\n      .signup(username, image, occupation, email, password)\n      .then((user) => this.setState({ isLoggedIn: true, user }))\n      .catch((err) => {\n        this.setState({ isLoggedIn: false, user: null });\n      });\n  };\n\n  login = (email, password) => {\n    authService\n      .login(email, password)\n      .then((user) => this.setState({ isLoggedIn: true, user }))\n      .catch((err) => {\n        this.setState({ isLoggedIn: false, user: null });\n      });\n  };\n\n  logout = () => {\n    authService\n      .logout()\n      .then(() => this.setState({ isLoggedIn: false, user: null }))\n      .catch((err) => console.log(err));\n  };\n\n  render() {\n    const { isLoggedIn, isLoading, user } = this.state;\n    const { signup, login, logout } = this;\n\n    if (isLoading) return <p>Loading</p>;\n\n    return (\n      <Provider value={{ isLoggedIn, isLoading, user, signup, login, logout }}>\n        {this.props.children}\n      </Provider>\n    );\n  }\n}\n\n// HOC that converts regular component into a Consumer\nconst withAuth = (WrappedComponent) => {\n  return class extends React.Component {\n    render() {\n      return (\n        <Consumer>\n          {(value) => {\n            const {\n              isLoggedIn,\n              isLoading,\n              user,\n              signup,\n              login,\n              logout,\n            } = value;\n\n            return (\n              <WrappedComponent\n                {...this.props}\n                isLoggedIn={isLoggedIn}\n                isLoading={isLoading}\n                user={user}\n                signup={signup}\n                login={login}\n                logout={logout}\n              />\n            );\n          }}\n        </Consumer>\n      );\n    }\n  };\n};\n\nexport { AuthProvider, withAuth };\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"../../context/auth-context\";\nimport \"./Navbar.css\";\nimport axios from \"axios\";\n\nclass Navbar extends Component {\n  state = {\n    newUnreadMessages: 0,\n  };\n\n  componentDidMount = () => {\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/api/user`, {\n        withCredentials: true,\n      })\n      .then((response) => {\n        response.data.chats.forEach((chat) => {\n          axios\n            .get(`${process.env.REACT_APP_API_URL}/api/chat/${chat._id}`)\n            .then((response) => {\n              console.log(response.data.messages);\n\n              const unreadMessages = response.data.messages.filter(\n                (message) => {\n                  return (\n                    !message.seen && message.sentBy !== this.props.user._id\n                  );\n                }\n              );\n\n              this.setState({\n                newUnreadMessages:\n                  this.state.newUnreadMessages + unreadMessages.length,\n              });\n            })\n            .catch((err) => console.log(err));\n        });\n      })\n      .catch((err) => console.log(err));\n  };\n\n  render() {\n    // const { user, logout, isLoggedin } = this.props;\n    return (\n      <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\n        <div className=\"container-fluid\">\n          <Link className=\"navbar-brand\" to=\"/\">\n            MyPortfolio\n          </Link>\n\n          <div id=\"chat-notification-icon\">\n            {this.state.newUnreadMessages === 0 ? null : (\n              <p className=\"notification-num\">{this.state.newUnreadMessages}</p>\n            )}\n            {this.props.isLoggedIn ? (\n              <Link to=\"/chat\">\n                <i class=\"fas fa-comment-dots\"></i>\n              </Link>\n            ) : null}\n          </div>\n\n          <button\n            className=\"navbar-toggler\"\n            type=\"button\"\n            data-bs-toggle=\"collapse\"\n            data-bs-target=\"#navbarNav\"\n            aria-controls=\"navbarNav\"\n            aria-expanded=\"false\"\n            aria-label=\"Toggle navigation\"\n          >\n            <span className=\"navbar-toggler-icon\"></span>\n          </button>\n          <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\n            <ul className=\"navbar-nav\">\n              <li className=\"nav-item\">\n                <Link to=\"/home\" className=\"nav-link\" aria-current=\"page\">\n                  Home\n                </Link>\n              </li>\n              {this.props.isLoggedIn ? (\n                <>\n                  <li className=\"nav-item\">\n                    <Link to=\"/chat\" className=\"nav-link\">\n                      Chat\n                    </Link>\n                  </li>\n                  <li className=\"nav-item\">\n                    <Link to=\"/myprofile\" className=\"nav-link\">\n                      My Profile\n                    </Link>\n                  </li>\n                  <li\n                    className=\"nav-item nav-link logout-btn\"\n                    onClick={this.props.logout}\n                  >\n                    Logout\n                    {/* <Link\n                      to=\"/login\"\n                      className=\"nav-link\"\n                      onClick={this.props.logout}\n                    >\n                      Logout\n                    </Link> */}\n                  </li>\n                </>\n              ) : (\n                <>\n                  <li className=\"nav-item\">\n                    <Link to=\"/signup\" className=\"nav-link\">\n                      Signup\n                    </Link>\n                  </li>\n                  <li className=\"nav-item\">\n                    <Link to=\"/login\" className=\"nav-link\">\n                      Login\n                    </Link>\n                  </li>\n                </>\n              )}\n            </ul>\n          </div>\n        </div>\n      </nav>\n    );\n  }\n}\n\nexport default withAuth(Navbar);\n","import React, { Component } from \"react\";\nimport \"./UserCard.css\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"./../../context/auth-context\";\n\nclass UserCard extends Component {\n  render() {\n    return (\n      <div>\n        {this.props.user &&\n        this.props.userOnCard._id === this.props.user._id ? (\n          <Link to={\"/myprofile\"} className=\"link\">\n            <div className=\"user-card\">\n              <img src={this.props.userOnCard.image} />\n              <div>\n                <p className=\"name-info\">{this.props.userOnCard.username}</p>\n                <p className=\"occupation-info\">\n                  {this.props.userOnCard.occupation}\n                </p>\n              </div>\n            </div>\n          </Link>\n        ) : (\n          <Link to={`/user/${this.props.userOnCard._id}`} className=\"link\">\n            <div className=\"user-card\">\n              <img src={this.props.userOnCard.image} />\n              <div>\n                <p className=\"name-info\">{this.props.userOnCard.username}</p>\n                <p className=\"occupation-info\">\n                  {this.props.userOnCard.occupation}\n                </p>\n              </div>\n            </div>\n          </Link>\n        )}{\" \"}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(UserCard);\n","export default __webpack_public_path__ + \"static/media/windows.7b7cd500.jpg\";","export default __webpack_public_path__ + \"static/media/ramiro-mendes-CjS3QsRuxnE-unsplash.2759f5ef.jpg\";","import React, { Component } from \"react\";\nimport \"./Footer.css\";\n\nclass Footer extends Component {\n  render() {\n    return (\n      <div className=\"footer\">\n        <i className=\"fab fa-instagram\"></i>\n        <i className=\"far fa-envelope\"></i>\n        <i className=\"fab fa-facebook\"></i>\n        <i className=\"fab fa-twitter\"></i>\n      </div>\n    );\n  }\n}\n\nexport default Footer;\n","import React from \"react\";\nimport Searchbar from \"./../components/Searchbar/Searchbar\";\nimport Navbar from \"./../components/Navbar/Navbar\";\nimport axios from \"axios\";\nimport UserCard from \"../components/UserCard/UserCard\";\nimport image1 from \"./../images/windows.jpg\";\nimport image2 from \"./../images/ramiro-mendes-CjS3QsRuxnE-unsplash.jpg\";\nimport Footer from \"./../components/Footer/Footer\";\n\nclass Home extends React.Component {\n  state = {\n    allUsers: [],\n    filteredUsers: [],\n    showErrorMessage: false,\n    hidePageContent: false,\n  };\n\n  filterUsers = (input) => {\n    const filtered = this.state.allUsers.filter((user) => {\n      const userName = user.username.toLowerCase();\n      const searchInput = input.toLowerCase();\n      return userName.includes(searchInput);\n    });\n\n    this.setState({\n      filteredUsers: filtered,\n      showErrorMessage: false,\n      hidePageContent: true,\n    });\n\n    if (filtered.length === 0) {\n      this.setState({ showErrorMessage: true, hidePageContent: true });\n    }\n\n    if (input === \"\") {\n      this.setState({\n        filteredUsers: [],\n        showErrorMessage: false,\n        hidePageContent: false,\n      });\n    }\n  };\n\n  componentDidMount = () => {\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/api/users`)\n      .then((response) => {\n        this.setState({ allUsers: response.data });\n      })\n      .catch((err) => console.log(err));\n  };\n\n  render() {\n    return (\n      <div>\n        <Navbar />\n        <div id=\"home-page-content\">\n          <Searchbar filterUsers={this.filterUsers} />\n          {this.state.showErrorMessage ? (\n            <p id=\"search-error\">\n              <i class=\"fas fa-search\"></i>sorry we didnt find any users under\n              that name\n            </p>\n          ) : null}\n          {this.state.filteredUsers.map((user) => {\n            return (\n              <div key={user._id}>\n                <UserCard userOnCard={user} />\n              </div>\n            );\n          })}\n\n          {this.state.hidePageContent ? null : (\n            <div id=\"homepage\">\n              {/* <p>\n              Welcome to myPortfolio, a platform for developers to share their\n              greatest work.\n            </p>\n            <h3>Why do I need a portfolio</h3> */}\n              <p id=\"first-p\">\n                As young developers the projects we've built are what count most\n                on the job market. Show employers what you have developed to\n                increase your chances in getting a job.\n              </p>\n              <img src={image1} id=\"laptop-image\" />\n              <h3>Companies</h3>\n              <p>\n                If you are a company, you can start searching for a user by name\n                and check out their profile. If you want to contact a user you\n                can create an account and use the chat. Otherwise you can find\n                the user's email address on the top of his profile page.\n              </p>\n              <img src={image2} id=\"laptop-image\" />\n              <h3>Developers</h3>\n              <p>\n                If you are a developer, you need to create an account with us to\n                build your profile and share your projects.\n              </p>\n            </div>\n          )}\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n}\n\nexport default Home;\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"./../context/auth-context\";\nimport axios from \"axios\";\nimport Navbar from \"./../components/Navbar/Navbar\";\nimport Footer from \"./../components/Footer/Footer\";\n\nclass Signup extends Component {\n  state = {\n    username: \"\",\n    image:\n      \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRI7M4Z0v1HP2Z9tZmfQaZFCuspezuoxter_A&usqp=CAU\",\n    occupation: \"\",\n    email: \"\",\n    password: \"\",\n    showLoadingMessage: false,\n  };\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const { username, image, occupation, email, password } = this.state;\n\n    this.props.signup(username, image, occupation, email, password);\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  handleFileUpload = (e) => {\n    this.setState({\n      showLoadingMessage: true,\n    });\n    console.log(\"The file to be uploaded is: \", e.target.files);\n    const file = e.target.files[0];\n\n    const uploadData = new FormData();\n    // image => this name has to be the same as in the model since we pass\n    // req.body to .create() method when creating a new project in '/api/projects' POST route\n    uploadData.append(\"image\", file);\n\n    axios\n      .post(`${process.env.REACT_APP_API_URL}/auth/upload`, uploadData, {\n        withCredentials: true,\n      })\n      .then((response) => {\n        console.log(\"response is: \", response);\n        // after the console.log we can see that response carries 'secure_url' which we can use to update the state\n        this.setState({\n          image: response.data.secure_url,\n          showLoadingMessage: false,\n        });\n      })\n      .catch((err) => {\n        console.log(\"Error while uploading the file: \", err);\n      });\n  };\n\n  render() {\n    const { username, occupation, email, password } = this.state;\n    return (\n      <div>\n        <Navbar />\n        <div id=\"signup-page\">\n          <h1 className=\"signup-heading\">\n            Create an account to use all our features\n          </h1>\n\n          <form onSubmit={this.handleFormSubmit} className=\"project-form\">\n            <input\n              type=\"text\"\n              name=\"username\"\n              value={username}\n              onChange={this.handleChange}\n              maxlength=\"20\"\n              className=\"add-project-input\"\n              placeholder=\"full name\"\n              required\n            />\n\n            <div id=\"signup-image-upload\">\n              {this.state.showLoadingMessage ? (\n                <p id=\"loading-message-signup\">loading ...</p>\n              ) : (\n                <input\n                  name=\"image\"\n                  type=\"file\"\n                  onChange={this.handleFileUpload}\n                ></input>\n              )}\n\n              <span>\n                <img\n                  // style={{ width: \"100px\", height: \"auto\" }}\n                  src={this.state.image && this.state.image}\n                  alt=\"\"\n                ></img>\n              </span>\n            </div>\n\n            <input\n              type=\"text\"\n              name=\"occupation\"\n              value={occupation}\n              onChange={this.handleChange}\n              className=\"add-project-input\"\n              maxlength=\"25\"\n              placeholder=\"occupation\"\n              required\n            />\n\n            <input\n              type=\"email\"\n              name=\"email\"\n              value={email}\n              onChange={this.handleChange}\n              className=\"add-project-input\"\n              placeholder=\"email\"\n              required\n            />\n\n            <input\n              type=\"password\"\n              name=\"password\"\n              value={password}\n              onChange={this.handleChange}\n              className=\"add-project-input\"\n              placeholder=\"password\"\n              required\n            />\n\n            <input\n              type=\"submit\"\n              value=\"Signup\"\n              className=\"add-project-input\"\n              id=\"signup-button\"\n            />\n          </form>\n        </div>\n        {/* <p>Already have account?</p>\n        <Link to={\"/login\"}> Login</Link> */}\n        <Footer />\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Signup);\n\n// const EnhancedSignup = withAuth(Signup)\n// export default EnhancedSignup;\n","import React, { Component } from \"react\";\nimport { withAuth } from \"./../context/auth-context\";\nimport Navbar from \"./../components/Navbar/Navbar\";\nimport Footer from \"./../components/Footer/Footer\";\n\nclass Login extends Component {\n  state = { email: \"\", password: \"\" };\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const { email, password } = this.state;\n    // Call funciton coming from AuthProvider ( via withAuth )\n    this.props.login(email, password);\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { email, password } = this.state;\n\n    return (\n      <div>\n        <Navbar />\n        <div id=\"login-page\">\n          <h1 className=\"signup-heading\">Login</h1>\n          <form onSubmit={this.handleFormSubmit} className=\"project-form\">\n            <input\n              type=\"email\"\n              name=\"email\"\n              value={email}\n              onChange={this.handleChange}\n              className=\"add-project-input\"\n              placeholder=\"email\"\n              required\n            />\n            <input\n              type=\"password\"\n              name=\"password\"\n              value={password}\n              onChange={this.handleChange}\n              className=\"add-project-input\"\n              placeholder=\"password\"\n              required\n            />\n            <input\n              type=\"submit\"\n              value=\"Login\"\n              className=\"add-project-input\"\n              id=\"signup-button\"\n            />\n          </form>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Login);\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport \"./AddProject.css\";\n\nclass AddProject extends Component {\n  state = {\n    title: \"\",\n    image: \"\",\n    about: \"\",\n    description: \"\",\n    technologies: \"\",\n    deployedLink: \"\",\n    githubLink: \"\",\n    showLoadingMessage: false,\n  };\n\n  handleInput = (event) => {\n    let { name, value, type } = event.target;\n\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    const {\n      title,\n      image,\n      about,\n      description,\n      technologies,\n      deployedLink,\n      githubLink,\n    } = this.state;\n\n    const userId = this.props.user._id;\n\n    axios\n      .post(\n        `${process.env.REACT_APP_API_URL}/api/projects`,\n        {\n          title,\n          image,\n          about,\n          description,\n          technologies,\n          deployedLink,\n          githubLink,\n          userId,\n        },\n        { withCredentials: true }\n      )\n      .then(() => {\n        this.props.displayProjects();\n        this.props.toggleForm();\n      })\n      .catch((err) => console.log(err));\n\n    this.setState({\n      title: \"\",\n      image: \"\",\n      about: \"\",\n      description: \"\",\n      technologies: \"\",\n      deployedLink: \"\",\n      githubLink: \"\",\n    });\n  };\n\n  handleFileUpload = (e) => {\n    this.setState({\n      showLoadingMessage: true,\n    });\n    console.log(\"The file to be uploaded is: \", e.target.files);\n    const file = e.target.files[0];\n\n    const uploadData = new FormData();\n    // image => this name has to be the same as in the model since we pass\n    // req.body to .create() method when creating a new project in '/api/projects' POST route\n    uploadData.append(\"image\", file);\n\n    axios\n      .post(`${process.env.REACT_APP_API_URL}/api/upload`, uploadData, {\n        withCredentials: true,\n      })\n      .then((response) => {\n        console.log(\"response is: \", response);\n        // after the console.log we can see that response carries 'secure_url' which we can use to update the state\n        this.setState({\n          image: response.data.secure_url,\n          showLoadingMessage: false,\n        });\n      })\n      .catch((err) => {\n        console.log(\"Error while uploading the file: \", err);\n      });\n  };\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit} className=\"project-form\">\n        <input\n          type=\"text\"\n          name=\"title\"\n          value={this.state.title}\n          onChange={this.handleInput}\n          placeholder=\"name of your project\"\n          maxlength=\"40\"\n          className=\"add-project-input\"\n          required\n        />\n        <div id=\"project-image-upload\" className=\"add-project-input\">\n          <input\n            name=\"image\"\n            type=\"file\"\n            onChange={this.handleFileUpload}\n            className=\"add-project-input project-image-input\"\n          ></input>\n          {this.state.showLoadingMessage ? (\n            <p id=\"loading-message-project\">loading</p>\n          ) : null}\n          <span>\n            <img\n              style={{ width: \"30px\", height: \"auto\", borderRadius: \"10px\" }}\n              src={this.state.image && this.state.image}\n              alt=\"\"\n            ></img>\n          </span>\n        </div>\n        <input\n          type=\"text\"\n          name=\"about\"\n          value={this.state.about}\n          onChange={this.handleInput}\n          placeholder=\"what kind of app / e.g 'e-commerce site'\"\n          maxlength=\"30\"\n          className=\"add-project-input\"\n          required\n        />\n        <textarea\n          type=\"text\"\n          name=\"description\"\n          value={this.state.description}\n          onChange={this.handleInput}\n          placeholder=\"description of the project\"\n          maxlength=\"300\"\n          className=\"add-project-input\"\n          required\n        />\n        <input\n          type=\"text\"\n          name=\"technologies\"\n          value={this.state.technologies}\n          onChange={this.handleInput}\n          placeholder=\"technolgies used\"\n          className=\"add-project-input\"\n          maxlength=\"150\"\n          required\n        />\n        <input\n          type=\"text\"\n          name=\"deployedLink\"\n          value={this.state.deployedLink}\n          onChange={this.handleInput}\n          placeholder=\"link to the deployed website\"\n          className=\"add-project-input\"\n          required\n        />\n        <input\n          type=\"text\"\n          name=\"githubLink\"\n          value={this.state.githubLink}\n          onChange={this.handleInput}\n          placeholder=\"link to the github repository\"\n          className=\"add-project-input\"\n          required\n        />\n        <button type=\"submit\">Share your project</button>\n      </form>\n    );\n  }\n}\n\nexport default withAuth(AddProject);\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport \"./EditProject.css\";\n\nclass EditProject extends Component {\n  state = {\n    title: this.props.project.title,\n    image: this.props.project.image,\n    about: this.props.project.about,\n    description: this.props.project.description,\n    technologies: this.props.project.technologies,\n    deployedLink: this.props.project.deployedLink,\n    githubLink: this.props.project.githubLink,\n    comments: this.props.commentIds,\n    likedBy: this.props.project.likedBy,\n    showLoadingMessage: false,\n  };\n\n  handleInput = (event) => {\n    let { name, value, type } = event.target;\n    console.log(value);\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    const {\n      title,\n      image,\n      about,\n      description,\n      technologies,\n      deployedLink,\n      githubLink,\n      comments,\n      likedBy,\n    } = this.state;\n\n    const userId = this.props.user._id;\n    const id = this.props.project._id;\n    axios\n      .put(\n        `${process.env.REACT_APP_API_URL}/api/projects/${id}`,\n        {\n          title,\n          image,\n          about,\n          description,\n          technologies,\n          deployedLink,\n          githubLink,\n          userId,\n          comments,\n          likedBy,\n        },\n        { withCredentials: true }\n      )\n      .then(() => {\n        this.props.toggleForm();\n        this.props.displayProjects();\n      })\n      .catch((err) => console.log(err));\n\n    this.setState({\n      title: \"\",\n      image: \"\",\n      about: \"\",\n      description: \"\",\n      technologies: \"\",\n      deployedLink: \"\",\n      githubLink: \"\",\n    });\n  };\n\n  handleFileUpload = (e) => {\n    this.setState({\n      showLoadingMessage: true,\n    });\n    console.log(\"The file to be uploaded is: \", e.target.files);\n    const file = e.target.files[0];\n\n    const uploadData = new FormData();\n    // image => this name has to be the same as in the model since we pass\n    // req.body to .create() method when creating a new project in '/api/projects' POST route\n    uploadData.append(\"image\", file);\n\n    axios\n      .post(`${process.env.REACT_APP_API_URL}/api/upload`, uploadData, {\n        withCredentials: true,\n      })\n      .then((response) => {\n        console.log(\"response is: \", response);\n        // after the console.log we can see that response carries 'secure_url' which we can use to update the state\n        this.setState({\n          image: response.data.secure_url,\n          showLoadingMessage: false,\n        });\n      })\n      .catch((err) => {\n        console.log(\"Error while uploading the file: \", err);\n      });\n  };\n\n  render() {\n    return (\n      <form\n        onSubmit={this.handleSubmit}\n        className=\"project-form\"\n        id=\"edit-form\"\n      >\n        <input\n          type=\"text\"\n          name=\"title\"\n          value={this.state.title}\n          onChange={this.handleInput}\n          className=\"add-project-input\"\n          placeholder=\"name of your project\"\n          maxlength=\"40\"\n          required\n        />\n        <div id=\"project-image-upload\" className=\"add-project-input\">\n          <input\n            name=\"image\"\n            type=\"file\"\n            onChange={this.handleFileUpload}\n            className=\"add-project-input project-image-input\"\n          ></input>\n          {this.state.showLoadingMessage ? (\n            <p id=\"loading-message-project\">loading</p>\n          ) : null}\n          <span>\n            <img\n              style={{ width: \"30px\", height: \"auto\", borderRadius: \"10px\" }}\n              src={this.state.image}\n              alt=\"\"\n            ></img>\n          </span>\n        </div>\n        <input\n          type=\"text\"\n          name=\"about\"\n          value={this.state.about}\n          onChange={this.handleInput}\n          placeholder=\"what kind of app / e.g 'e-commerce site'\"\n          className=\"add-project-input\"\n          maxlength=\"30\"\n          required\n        />\n        <textarea\n          type=\"text\"\n          name=\"description\"\n          value={this.state.description}\n          onChange={this.handleInput}\n          className=\"add-project-input\"\n          placeholder=\"description of the project\"\n          maxlength=\"300\"\n          required\n        />\n        <input\n          type=\"text\"\n          name=\"technologies\"\n          value={this.state.technologies}\n          onChange={this.handleInput}\n          className=\"add-project-input\"\n          placeholder=\"technolgies used\"\n          maxlength=\"150\"\n          required\n        />\n        <input\n          type=\"text\"\n          name=\"deployedLink\"\n          value={this.state.deployedLink}\n          onChange={this.handleInput}\n          placeholder=\"link to the deployed website\"\n          className=\"add-project-input\"\n          required\n        />\n        <input\n          type=\"text\"\n          name=\"githubLink\"\n          value={this.state.githubLink}\n          onChange={this.handleInput}\n          placeholder=\"link to the github repository\"\n          className=\"add-project-input\"\n          required\n        />\n        <button type=\"submit\">Update changes</button>\n      </form>\n    );\n  }\n}\n\nexport default withAuth(EditProject);\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport \"./Comment.css\";\nimport moment from \"moment\";\nimport { withAuth } from \"./../../context/auth-context\";\n\nclass Comment extends Component {\n  state = {\n    writtenBy: {},\n  };\n\n  deleteComment = () => {\n    axios\n      .post(\n        `${process.env.REACT_APP_API_URL}/api/comments/${this.props.comment._id}`\n      )\n      .then((response) => {\n        this.props.displayComments();\n      })\n      .catch((err) => console.log(err));\n  };\n\n  componentDidMount = () => {\n    axios\n      .get(\n        `${process.env.REACT_APP_API_URL}/api/comments/${this.props.comment._id}`\n      )\n      .then((response) => {\n        this.setState({ writtenBy: response.data.writtenBy });\n      })\n      .catch((err) => console.log(err));\n  };\n\n  render() {\n    console.log(this.props.comment.created_at);\n    const commentedAt = moment(this.props.comment.created_at)\n      .startOf(\"hour\")\n      .fromNow();\n    //console.log(commentedAt);\n\n    return (\n      <div className=\"comment\">\n        <div className=\"comment-left\">\n          <img src={this.state.writtenBy.image} />\n          <div className=\"comment-center\">\n            <div>{this.props.comment.text}</div>\n            <p>commented {commentedAt}</p>\n          </div>\n        </div>\n        {this.props.user && this.state.writtenBy._id === this.props.user._id ? (\n          <p onClick={this.deleteComment} className=\"delete-x\">\n            x\n          </p>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Comment);\n","import React, { Component } from \"react\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport axios from \"axios\";\nimport \"./AddComment.css\";\n\nclass AddComment extends Component {\n  state = {\n    text: \"\",\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    const { text } = this.state;\n\n    const userId = this.props.user._id;\n    const projectId = this.props.project._id;\n\n    axios\n      .post(\n        `${process.env.REACT_APP_API_URL}/api/comments`,\n        {\n          text,\n          projectId,\n          userId,\n        },\n        { withCredentials: true }\n      )\n      .then(() => {\n        this.props.displayComments();\n      })\n      .catch((err) => console.log(err));\n\n    this.setState({\n      text: \"\",\n    });\n  };\n\n  handleInput = (event) => {\n    let { name, value, type } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit} className=\"comment-input\">\n        <input\n          placeholder=\"write a comment\"\n          type=\"text\"\n          name=\"text\"\n          value={this.state.text}\n          onChange={this.handleInput}\n          required\n        />{\" \"}\n        <button>Post</button>\n      </form>\n    );\n  }\n}\n\nexport default withAuth(AddComment);\n","import React, { Component } from \"react\";\nimport \"./PopUp.css\";\nimport UserCard from \"../UserCard/UserCard\";\n\nclass PopUp extends Component {\n  state = {};\n\n  render() {\n    return (\n      <div className=\"likes-pop-up\">\n        <i\n          class=\"fas fa-times-circle search-icon\"\n          onClick={this.props.togglePopUp}\n        ></i>\n        {this.props.userArray.map((user) => {\n          return (\n            <div key={user._id}>\n              <UserCard userOnCard={user} />\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nexport default PopUp;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport \"./ProjectCard.css\";\nimport { Link } from \"react-router-dom\";\nimport EditProject from \"./../EditProject/EditProject\";\nimport Comment from \"./../Comment/Comment\";\nimport AddComment from \"./../AddComment/AddComment\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport PopUp from \"../PopUp/PopUp\";\nimport { Redirect } from \"react-router-dom\";\n\nclass ProjectCard extends Component {\n  state = {\n    showFront: true,\n    showEditForm: false,\n    showCommentSection: false,\n    comments: [],\n    likedBy: [],\n    showLikesPopUp: false,\n    chatId: \"\",\n    redirect: false,\n    commentIds: [],\n  };\n\n  createChat = () => {\n    if (this.props.user) {\n      const madeBy = this.props.madeBy;\n      const currentUserId = this.props.user._id;\n\n      if (\n        this.props.madeBy.chats.some((chat) => {\n          return chat.participants.includes(this.props.user._id);\n        })\n      ) {\n        console.log(\"chat already exists\");\n\n        const filteredChat = this.props.madeBy.chats.filter((chat) => {\n          return chat.participants.includes(this.props.user._id);\n        });\n\n        this.setState({ chatId: filteredChat[0]._id, redirect: true });\n      } else {\n        axios\n          .post(\n            `${process.env.REACT_APP_API_URL}/api/chat/${madeBy._id}`,\n            { currentUserId },\n            {\n              withCredentials: true,\n            }\n          )\n          .then((response) => {\n            console.log(\"new chat created\", response.data);\n            this.setState({ chatId: response.data, redirect: true });\n          })\n          .catch((err) => console.log(err));\n      }\n    } else {\n      alert(\"Please log in to contact \" + this.props.madeBy.username);\n    }\n  };\n\n  toggleCard = () => {\n    this.setState({\n      showFront: !this.state.showFront,\n    });\n  };\n\n  deleteProject = () => {\n    axios\n      .post(\n        `${process.env.REACT_APP_API_URL}/api/projects/${this.props.project._id}`\n      )\n      .then(() => this.props.displayProjects())\n      .catch((err) => console.log(err));\n  };\n\n  toggleEditForm = () => {\n    this.setState({ showEditForm: !this.state.showEditForm });\n  };\n\n  toggleComments = () => {\n    this.setState({ showCommentSection: !this.state.showCommentSection });\n  };\n\n  displayComments = () => {\n    axios\n      .get(\n        `${process.env.REACT_APP_API_URL}/api/projects/${this.props.project._id}`\n      )\n      .then((response) => {\n        //get comments ids\n        const commentIdsExtracted = response.data.comments.map((comment) => {\n          return comment._id;\n        });\n\n        this.setState({\n          comments: response.data.comments,\n          likedBy: response.data.likedBy,\n          commentIds: commentIdsExtracted,\n        });\n      })\n      .catch((err) => console.log(err));\n  };\n\n  showAlert = () => {\n    alert(\"you must log in to write a comment\");\n  };\n\n  toggleLikesPopUp = () => {\n    this.setState({ showLikesPopUp: !this.state.showLikesPopUp });\n  };\n\n  like = () => {\n    const userId = this.props.user._id;\n    axios\n      .post(\n        `${process.env.REACT_APP_API_URL}/api/projects/like/${this.props.project._id}`,\n        { userId },\n        {\n          withCredentials: true,\n        }\n      )\n      .then((response) => {\n        this.displayComments();\n        this.props.updateLikes();\n      })\n      .catch((err) => console.log(err));\n  };\n\n  dislike = () => {\n    const userId = this.props.user._id;\n    axios\n      .post(\n        `${process.env.REACT_APP_API_URL}/api/projects/dislike/${this.props.project._id}`,\n        { userId },\n        {\n          withCredentials: true,\n        }\n      )\n      .then((response) => {\n        this.displayComments();\n        this.props.updateLikes();\n      })\n      .catch((err) => console.log(err));\n  };\n\n  componentDidMount = () => {\n    this.displayComments();\n  };\n\n  render() {\n    // const alreadyLiked = this.props.project.likedBy.includes(\n    //   this.props.user._id\n    // );\n    // console.log(alreadyLiked);\n    return (\n      <div className=\"project-card-container\">\n        {this.state.showLikesPopUp ? (\n          <div>\n            <PopUp\n              togglePopUp={this.toggleLikesPopUp}\n              userArray={this.state.likedBy}\n            />\n          </div>\n        ) : null}\n\n        {this.state.showFront ? (\n          <div className=\"project-card front\">\n            <img src={this.props.project.image} onClick={this.toggleCard} />\n            <div className=\"bottom-card\">\n              <div>\n                <div className=\"card-icons\">\n                  <div className=\"like-icons\">\n                    {this.props.enableLikes &&\n                    this.state.likedBy.every((user) => {\n                      return user._id !== this.props.user._id;\n                    }) ? (\n                      <i className=\"far fa-heart\" onClick={this.like}></i>\n                    ) : this.props.enableLikes &&\n                      this.state.likedBy.some((user) => {\n                        return user._id === this.props.user._id;\n                      }) ? (\n                      <i\n                        className=\"fas fa-heart liked-heart\"\n                        onClick={this.dislike}\n                      ></i>\n                    ) : null}\n                    <i\n                      className=\"far fa-comment\"\n                      onClick={this.toggleComments}\n                    ></i>\n                    {!this.props.showEditOptions ? (\n                      <i\n                        class=\"far fa-paper-plane\"\n                        onClick={this.createChat}\n                      ></i>\n                    ) : null}\n                  </div>\n                  {this.state.redirect ? (\n                    <Redirect to={`/conversation/${this.state.chatId}`} />\n                  ) : null}\n                  <div className=\"edit-icons\">\n                    {this.props.showEditOptions ? (\n                      <div>\n                        <i\n                          className=\"fas fa-pen\"\n                          onClick={this.toggleEditForm}\n                        ></i>\n                        <i\n                          className=\"fas fa-trash\"\n                          onClick={this.deleteProject}\n                        ></i>\n                      </div>\n                    ) : null}\n                  </div>\n                </div>\n\n                <div className=\"project-name\">\n                  <p id=\"colored-p\">{this.props.project.title}</p>\n                  <p id=\"small-p\">{this.props.project.about}</p>\n                </div>\n\n                <div className=\"likes-comments\">\n                  <div className=\"like-comment-calculator\">\n                    {this.state.comments.length > 0 ? (\n                      <p onClick={this.toggleComments} className=\"comment-line\">\n                        {this.state.comments.length} comments\n                      </p>\n                    ) : null}\n                    {this.state.likedBy.length > 0 ? (\n                      <div\n                        className=\"likedBy-line\"\n                        onClick={this.toggleLikesPopUp}\n                      >\n                        {this.state.likedBy.map((user, index) => {\n                          if (index <= 2) {\n                            return (\n                              <div key={user._id} id=\"mini-img-container\">\n                                <img src={user.image} id=\"mini-img\" />\n                              </div>\n                            );\n                          }\n                        })}\n\n                        <div className=\"likedBy-line-written\">\n                          <p>\n                            {`liked by ${this.state.likedBy[0].username} `}{\" \"}\n                          </p>\n                          {this.state.likedBy.length >= 2 ? (\n                            <p>\n                              {` and ${this.state.likedBy.length - 1} others`}{\" \"}\n                            </p>\n                          ) : null}\n                        </div>\n                      </div>\n                    ) : null}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div className=\"project-card back\" onClick={this.toggleCard}>\n            <div className=\"link-icons\">\n              <a href={this.props.project.githubLink} target=\"_blank\">\n                <i className=\"fab fa-github\"></i>\n              </a>\n              <a href={this.props.project.deployedLink} target=\"_blank\">\n                <i className=\"fas fa-globe\"></i>\n              </a>\n            </div>\n            <div className=\"description\">\n              <p>{this.props.project.description} </p>\n              <p>technologies used: {this.props.project.technologies} </p>\n            </div>\n          </div>\n        )}\n        {this.state.showEditForm ? (\n          <EditProject\n            project={this.props.project}\n            commentIds={this.state.commentIds}\n            toggleForm={this.toggleEditForm}\n            displayProjects={this.props.displayProjects}\n          />\n        ) : null}\n        {this.state.showCommentSection ? (\n          <div className=\"comment-section\">\n            {this.props.showCommentInput ? (\n              <AddComment\n                project={this.props.project}\n                displayComments={this.displayComments}\n                toggleComments={this.toggleComments}\n              />\n            ) : (\n              <form className=\"comment-input\">\n                <input placeholder=\"log in to write a comment\" />\n                <button onClick={this.showAlert}>Post</button>\n              </form>\n            )}\n            <div>\n              {this.state.comments\n                .map((comment) => {\n                  return (\n                    <div key={comment._id}>\n                      <Comment\n                        comment={comment}\n                        displayComments={this.displayComments}\n                      />\n                    </div>\n                  );\n                })\n                .reverse()}\n            </div>\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(ProjectCard);\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../../context/auth-context\";\nimport axios from \"axios\";\n\nclass EditUserName extends Component {\n  state = {\n    username: this.props.userToEdit.username,\n    occupation: this.props.userToEdit.occupation,\n    image: this.props.userToEdit.image,\n  };\n\n  handleInput = (event) => {\n    let { name, value, type } = event.target;\n    console.log(value);\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    const { username, occupation, image } = this.state;\n\n    const userId = this.props.user._id;\n\n    axios\n      .put(\n        `${process.env.REACT_APP_API_URL}/api/user/${userId}`,\n        {\n          username,\n          occupation,\n          image,\n        },\n        { withCredentials: true }\n      )\n      .then(() => {\n        this.props.editUserName();\n        this.props.displayProjects();\n      })\n      .catch((err) => console.log(err));\n\n    this.setState({\n      username: \"\",\n      occupation: \"\",\n    });\n  };\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <input\n          type=\"text\"\n          name=\"username\"\n          value={this.state.username}\n          onChange={this.handleInput}\n          placeholder=\"username\"\n          className=\"edit-input\"\n          maxlength=\"20\"\n          required\n        />\n\n        <button type=\"submit\" className=\"edit-input-button\">\n          <i class=\"fas fa-pen\" type=\"submit\"></i>\n        </button>\n      </form>\n    );\n  }\n}\n\nexport default withAuth(EditUserName);\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../../context/auth-context\";\nimport axios from \"axios\";\n\nclass EditOccupation extends Component {\n  state = {\n    username: this.props.userToEdit.username,\n    occupation: this.props.userToEdit.occupation,\n    image: this.props.userToEdit.image,\n  };\n\n  handleInput = (event) => {\n    let { name, value, type } = event.target;\n    console.log(value);\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    const { username, occupation, image } = this.state;\n\n    const userId = this.props.user._id;\n\n    axios\n      .put(\n        `${process.env.REACT_APP_API_URL}/api/user/${userId}`,\n        {\n          username,\n          occupation,\n          image,\n        },\n        { withCredentials: true }\n      )\n      .then(() => {\n        this.props.editOccupation();\n        this.props.displayProjects();\n      })\n      .catch((err) => console.log(err));\n\n    this.setState({\n      username: \"\",\n      occupation: \"\",\n    });\n  };\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <input\n          type=\"text\"\n          name=\"occupation\"\n          className=\"edit-input\"\n          value={this.state.occupation}\n          onChange={this.handleInput}\n          placeholder=\"occupation\"\n          maxlength=\"25\"\n          required\n        />\n        <button type=\"submit\" className=\"edit-input-button\">\n          <i class=\"fas fa-pen\" type=\"submit\"></i>\n        </button>\n      </form>\n    );\n  }\n}\n\nexport default withAuth(EditOccupation);\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../../context/auth-context\";\nimport axios from \"axios\";\n\nclass EditUserImage extends Component {\n  state = {\n    username: this.props.userToEdit.username,\n    occupation: this.props.userToEdit.occupation,\n    image: this.props.userToEdit.image,\n    showLoadingMessage: false,\n  };\n\n  handleInput = (event) => {\n    let { name, value, type } = event.target;\n    console.log(value);\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    const { username, occupation, image } = this.state;\n\n    const userId = this.props.user._id;\n\n    axios\n      .put(\n        `${process.env.REACT_APP_API_URL}/api/user/${userId}`,\n        {\n          username,\n          occupation,\n          image,\n        },\n        { withCredentials: true }\n      )\n      .then(() => {\n        this.props.editUserImage();\n        this.props.displayProjects();\n      })\n      .catch((err) => console.log(err));\n\n    this.setState({\n      username: \"\",\n      occupation: \"\",\n    });\n  };\n\n  handleFileUpload = (e) => {\n    this.setState({\n      showLoadingMessage: true,\n    });\n    console.log(\"The file to be uploaded is: \", e.target.files);\n    const file = e.target.files[0];\n\n    const uploadData = new FormData();\n    // image => this name has to be the same as in the model since we pass\n    // req.body to .create() method when creating a new project in '/api/projects' POST route\n    uploadData.append(\"image\", file);\n\n    axios\n      .post(`${process.env.REACT_APP_API_URL}/api/upload`, uploadData, {\n        withCredentials: true,\n      })\n      .then((response) => {\n        console.log(\"response is: \", response);\n        // after the console.log we can see that response carries 'secure_url' which we can use to update the state\n        this.setState({\n          image: response.data.secure_url,\n          showLoadingMessage: false,\n        });\n      })\n      .catch((err) => {\n        console.log(\"Error while uploading the file: \", err);\n      });\n  };\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit} className=\"image-upload-form\">\n        <span>\n          <img\n            className=\"user-image\"\n            src={this.state.image && this.state.image}\n            alt=\"uploading\"\n          ></img>\n        </span>\n\n        {this.state.showLoadingMessage ? (\n          <div>\n            <p id=\"loading-message\">loading</p>\n          </div>\n        ) : (\n          <div>\n            <input\n              className=\"image-upload\"\n              name=\"image\"\n              type=\"file\"\n              onChange={this.handleFileUpload}\n            ></input>\n            <button type=\"submit\">\n              <i class=\"fas fa-upload\" type=\"submit\"></i>\n            </button>\n          </div>\n        )}\n      </form>\n    );\n  }\n}\n\nexport default withAuth(EditUserImage);\n","import React, { Component } from \"react\";\nimport { withAuth } from \"./../context/auth-context\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Navbar from \"./../components/Navbar/Navbar\";\nimport AddProject from \"./../components/AddProject/AddProject\";\nimport ProjectCard from \"../components/ProjectCard/ProjectCard\";\nimport PopUp from \"../components/PopUp/PopUp\";\nimport EditUserName from \"../components/EditUser/EditUserName\";\nimport EditOccupation from \"../components/EditUser/EditOccupation\";\nimport EditUserImage from \"../components/EditUser/EditUserImage\";\nimport Footer from \"../components/Footer/Footer\";\n\nclass Private extends Component {\n  state = {\n    user: {},\n    username: \"\",\n    image: \"\",\n    portfolio: [],\n    showForm: false,\n    showFollowersPopUp: false,\n    showFollowingPopUp: false,\n    showUserNameInput: false,\n    showOccupationInput: false,\n    showImageUpload: false,\n    followers: [],\n    following: [],\n    unreadMessages: 0,\n  };\n\n  toggleForm = () => {\n    this.setState({ showForm: !this.state.showForm });\n  };\n\n  displayProjects = () => {\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/api/user`, {\n        withCredentials: true,\n      })\n      .then((response) => {\n        console.log(\"rendered\");\n        this.setState({\n          user: response.data,\n          username: response.data.username,\n          occupation: response.data.occupation,\n          portfolio: response.data.portfolio,\n          followers: response.data.followers,\n          following: response.data.following,\n          image: response.data.image,\n        });\n\n        response.data.chats.forEach((chat) => {\n          axios\n            .get(`${process.env.REACT_APP_API_URL}/api/chat/${chat._id}`)\n            .then((response) => {\n              const filtered = response.data.messages.filter((message) => {\n                return (\n                  message.seen === false &&\n                  message.sentBy !== this.props.user._id\n                );\n              });\n\n              this.setState({\n                unreadMessages: this.state.unreadMessages + filtered.length,\n              });\n              console.log(filtered.length);\n            })\n            .catch((err) => {\n              console.log(err);\n            });\n        });\n      })\n\n      .catch((err) => console.log(err));\n  };\n\n  toggleFollowersPopup = () => {\n    this.setState({ showFollowersPopUp: !this.state.showFollowersPopUp });\n  };\n\n  toggleFollowingPopup = () => {\n    this.setState({ showFollowingPopUp: !this.state.showFollowingPopUp });\n  };\n\n  editUserImage = () => {\n    this.setState({ showImageUpload: !this.state.showImageUpload });\n  };\n\n  editUsername = () => {\n    this.setState({ showUserNameInput: !this.state.showUserNameInput });\n  };\n\n  editOccupation = () => {\n    this.setState({ showOccupationInput: !this.state.showOccupationInput });\n  };\n\n  componentDidMount = () => {\n    this.displayProjects();\n  };\n\n  render() {\n    console.log(this.state.following);\n\n    return (\n      <div className=\"user-profile\">\n        <Navbar />\n        <div className=\"page-content\">\n          {this.props.user ? (\n            <div>\n              <div className=\"user-details private-user-details\">\n                {this.state.showImageUpload ? (\n                  <div>\n                    <EditUserImage\n                      editUserImage={this.editUserImage}\n                      displayProjects={this.displayProjects}\n                      userToEdit={this.state.user}\n                    />\n                  </div>\n                ) : (\n                  <div className=\"edit-user-image\">\n                    <img src={this.state.image} className=\"user-image\" />\n                    <i\n                      class=\"fas fa-plus-circle\"\n                      onClick={this.editUserImage}\n                    ></i>\n                    {/* <i class=\"fas fa-pen\" onClick={this.editUserImage}></i> */}\n                  </div>\n                )}\n                <div>\n                  <div>\n                    {this.state.showUserNameInput ? (\n                      <EditUserName\n                        editUserName={this.editUsername}\n                        displayProjects={this.displayProjects}\n                        userToEdit={this.state.user}\n                      />\n                    ) : (\n                      <div className=\"edit-user\">\n                        <h2>{this.state.username}</h2>\n                        <i class=\"fas fa-pen\" onClick={this.editUsername}></i>\n                      </div>\n                    )}\n\n                    {this.state.showOccupationInput ? (\n                      <EditOccupation\n                        editOccupation={this.editOccupation}\n                        displayProjects={this.displayProjects}\n                        userToEdit={this.state.user}\n                      />\n                    ) : (\n                      <div className=\"edit-user\">\n                        <h4>{this.state.occupation}</h4>\n                        <i class=\"fas fa-pen\" onClick={this.editOccupation}></i>\n                      </div>\n                    )}\n                  </div>\n                  <div className=\"followers-following\">\n                    <p onClick={this.toggleFollowersPopup}>\n                      {this.state.followers.length} followers\n                    </p>\n\n                    {this.state.showFollowersPopUp &&\n                    this.state.followers.length > 0 ? (\n                      <PopUp\n                        userArray={this.state.followers}\n                        togglePopUp={this.toggleFollowersPopup}\n                      />\n                    ) : null}\n\n                    <p onClick={this.toggleFollowingPopup}>\n                      {this.state.following.length} following\n                    </p>\n\n                    {this.state.showFollowingPopUp &&\n                    this.state.following.length > 0 ? (\n                      <PopUp\n                        userArray={this.state.following}\n                        togglePopUp={this.toggleFollowingPopup}\n                      />\n                    ) : null}\n                  </div>\n                </div>\n              </div>\n\n              <p id=\"welcome-message\">Welcome back {this.state.username}!</p>\n\n              {this.state.unreadMessages === 0 ? (\n                <Link to=\"/chat\" className=\"link\">\n                  <p id=\"no-new-message\">\n                    <i class=\"fas fa-comment-dots\" id=\"black-comment-dots\"></i>\n                    You have no new messages.\n                  </p>\n                </Link>\n              ) : this.state.unreadMessages === 1 ? (\n                <Link to=\"/chat\" className=\"link\">\n                  <p id=\"notification-message\">\n                    <i class=\"fas fa-comment-dots\" id=\"black-comment-dots\"></i>\n                    You have {this.state.unreadMessages} new message.\n                  </p>\n                </Link>\n              ) : (\n                <Link to=\"/chat\" className=\"link\">\n                  <p id=\"notification-message\">\n                    <i class=\"fas fa-comment-dots\" id=\"black-comment-dots\"></i>\n                    You have {this.state.unreadMessages} new messages.\n                  </p>\n                </Link>\n              )}\n            </div>\n          ) : null}\n\n          <div id=\"add-project\">\n            <button onClick={this.toggleForm}>Add a new project</button>\n          </div>\n\n          {this.state.showForm ? (\n            <AddProject\n              displayProjects={this.displayProjects}\n              toggleForm={this.toggleForm}\n            />\n          ) : null}\n\n          <div id=\"projects-scroll-bar\">\n            {this.state.portfolio\n              .map((project) => {\n                return (\n                  <ProjectCard\n                    project={project}\n                    displayProjects={this.displayProjects}\n                    showEditOptions={true}\n                    showCommentInput={true}\n                    enableLikes={true}\n                    updateLikes={this.displayProjects}\n                  />\n                );\n              })\n              .reverse()}\n          </div>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Private);\n","import React from \"react\";\nimport axios from \"axios\";\nimport Navbar from \"./../components/Navbar/Navbar\";\nimport ProjectCard from \"./../components/ProjectCard/ProjectCard\";\nimport { withAuth } from \"./../context/auth-context\";\nimport PopUp from \"./../components/PopUp/PopUp\";\nimport { Link } from \"react-router-dom\";\nimport { Redirect } from \"react-router-dom\";\nimport Footer from \"../components/Footer/Footer\";\n\nclass UserProfile extends React.Component {\n  state = {\n    user: {},\n    currentUser: {},\n    followers: [],\n    userIsFollowing: [],\n    following: false,\n    portfolio: [],\n    loggedInUser: false,\n    showFollowersPopUp: false,\n    showFollowingPopUp: false,\n    showEmail: false,\n    redirect: false,\n    chatId: \"\",\n    displayLogInAlert: true,\n  };\n\n  componentDidMount = () => {\n    const { id } = this.props.match.params;\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/api/user/${id}`)\n      .then((response) => {\n        this.setState({\n          user: response.data,\n          portfolio: response.data.portfolio,\n          followers: response.data.followers,\n          userIsFollowing: response.data.following,\n        });\n\n        if (this.props.user) {\n          this.setState({ loggedInUser: true });\n\n          if (\n            response.data.followers.some(\n              (follower) => follower._id === this.props.user._id\n            )\n          ) {\n            console.log(\"YES IT INCLUDES\");\n            this.setState({ following: true });\n          }\n\n          // axios\n          //   .get(`http://localhost:5000/api/user`, { withCredentials: true })\n          //   .then((response) => {\n          //     const isFollowing = response.data.following.includes(\n          //       this.state.user._id\n          //     );\n\n          //     console.log(\"FOLLOWING?!\", isFollowing);\n\n          //     this.setState({\n          //       currentUser: response.data,\n          //       following: isFollowing,\n          //     });\n          //     console.log(this.state.currentUser);\n          //   })\n          //   .catch((err) => console.log(err));\n        }\n      })\n      .catch((err) => console.log(err));\n  };\n\n  toggleFollowersPopup = () => {\n    this.setState({ showFollowersPopUp: !this.state.showFollowersPopUp });\n  };\n\n  toggleFollowingPopup = () => {\n    this.setState({ showFollowingPopUp: !this.state.showFollowingPopUp });\n  };\n\n  followUser = () => {\n    const { id } = this.props.match.params;\n    const currentUserId = this.props.user._id;\n    axios\n      .post(\n        `${process.env.REACT_APP_API_URL}/api/user/follow/${id}`,\n        { currentUserId },\n        {\n          withCredentials: true,\n        }\n      )\n      .then((response) => {\n        console.log(\"followed succesfully\");\n        this.setState({\n          following: true,\n        });\n        this.componentDidMount();\n      })\n      .catch((err) => console.log(err));\n  };\n\n  unfollowUser = () => {\n    const { id } = this.props.match.params;\n    const currentUserId = this.props.user._id;\n    axios\n      .post(\n        `${process.env.REACT_APP_API_URL}/api/user/unfollow/${id}`,\n        { currentUserId },\n        {\n          withCredentials: true,\n        }\n      )\n      .then((response) => {\n        console.log(\"unfollowed succesfully\");\n        const newFollowers = this.state.followers.filter(\n          (follower) => follower._id !== currentUserId\n        );\n        this.setState({ following: false, followers: newFollowers });\n      })\n      .catch((err) => console.log(err));\n  };\n\n  displayEmail = () => {\n    this.setState({ showEmail: !this.state.showEmail });\n  };\n\n  createChat = () => {\n    if (this.props.user) {\n      const { id } = this.props.match.params;\n      const currentUserId = this.props.user._id;\n\n      if (\n        this.state.user.chats.some((chat) => {\n          return chat.participants.includes(this.props.user._id);\n        })\n      ) {\n        console.log(\"chat already exists\");\n\n        const filteredChat = this.state.user.chats.filter((chat) => {\n          return chat.participants.includes(this.props.user._id);\n        });\n\n        this.setState({ chatId: filteredChat[0]._id, redirect: true });\n      } else {\n        axios\n          .post(\n            `${process.env.REACT_APP_API_URL}/api/chat/${id}`,\n            { currentUserId },\n            {\n              withCredentials: true,\n            }\n          )\n          .then((response) => {\n            console.log(\"new chat created\", response.data);\n            this.setState({ chatId: response.data, redirect: true });\n          })\n          .catch((err) => console.log(err));\n      }\n    } else {\n      alert(\"Please log in to contact \" + this.state.user.username);\n    }\n  };\n\n  followNotLoggedIn = () => {\n    alert(\"Please log in to follow \" + this.state.user.username);\n  };\n\n  render() {\n    console.log(this.state.userIsFollowing);\n    return (\n      <div className=\"user-profile\">\n        <Navbar />\n        <div className=\"page-content\">\n          <div className=\"user-details\">\n            <div className=\"top-left\">\n              <img src={this.state.user.image} className=\"user-image\" />\n              <div>\n                <h2>{this.state.user.username}</h2>\n                <h4>{this.state.user.occupation}</h4>\n                <div className=\"followers-following\">\n                  <p onClick={this.toggleFollowersPopup}>\n                    {this.state.followers.length} followers\n                  </p>\n\n                  {this.state.showFollowersPopUp &&\n                  this.state.followers.length > 0 ? (\n                    <PopUp\n                      userArray={this.state.followers}\n                      togglePopUp={this.toggleFollowersPopup}\n                    />\n                  ) : null}\n\n                  <p onClick={this.toggleFollowingPopup}>\n                    {this.state.userIsFollowing.length} following\n                  </p>\n\n                  {this.state.showFollowingPopUp &&\n                  this.state.userIsFollowing.length > 0 ? (\n                    <PopUp\n                      userArray={this.state.userIsFollowing}\n                      togglePopUp={this.toggleFollowingPopup}\n                    />\n                  ) : null}\n                </div>\n              </div>\n            </div>\n            <div className=\"user-details-bottom\">\n              {this.props.user && this.state.following ? (\n                <button onClick={this.unfollowUser} className=\"follow-button\">\n                  {\" \"}\n                  - Unfollow\n                </button>\n              ) : null}\n\n              {!this.props.user ? (\n                <button\n                  onClick={this.followNotLoggedIn}\n                  className=\"follow-button\"\n                >\n                  {\" \"}\n                  + Follow\n                </button>\n              ) : null}\n              {this.props.user && !this.state.following ? (\n                <button onClick={this.followUser} className=\"follow-button\">\n                  {\" \"}\n                  + Follow\n                </button>\n              ) : null}\n              {/* {this.state.displayLogInAlert ? (\n              <i class=\"far fa-comment-alt\">\n                <p>You need to log in</p>\n              </i>\n            ) : null} */}\n              <button className=\"follow-button\" onClick={this.createChat}>\n                Message\n              </button>\n\n              {this.state.redirect ? (\n                <Redirect to={`/conversation/${this.state.chatId}`} />\n              ) : null}\n\n              <button className=\"follow-button\" onClick={this.displayEmail}>\n                Email\n              </button>\n              {this.state.showEmail ? (\n                <p className=\"email-show\">{this.state.user.email}</p>\n              ) : null}\n            </div>\n          </div>\n          <div id=\"projects-scroll-bar\">\n            {this.state.portfolio.length > 0\n              ? this.state.user.portfolio\n                  .map((project) => {\n                    return (\n                      <div key={project._id}>\n                        <ProjectCard\n                          madeBy={this.state.user}\n                          project={project}\n                          showEditOptions={false}\n                          showCommentInput={this.state.loggedInUser}\n                          enableLikes={this.state.loggedInUser}\n                          updateLikes={this.componentDidMount}\n                        />\n                      </div>\n                    );\n                  })\n                  .reverse()\n              : null}\n          </div>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n}\n\nexport default withAuth(UserProfile);\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction LandingPage() {\n  return (\n    <div id=\"landing-page\">\n      <p>\n        Connect with other developers and share your portfolio with companies - all in one place.\n      </p>\n      <div>\n        <Link to={\"/signup\"}>\n          <button className=\"landing-btn\">Get started</button>\n        </Link>\n        <Link to={\"/home\"}>\n          <button className=\"landing-btn\">Explore</button>\n        </Link>\n      </div>\n    </div>\n  );\n}\n\nexport default LandingPage;\n","import React, { Component } from \"react\";\nimport \"./ChatUserCard.css\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport axios from \"axios\";\n\nclass ChatUserCard extends Component {\n  state = {\n    chat: {},\n    otherUser: [],\n    lastMessage: {},\n    lastMessageLength: 0,\n    hasUnreadMessages: false,\n    unreadMessages: [],\n  };\n\n  componentDidMount = () => {\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/api/chat/${this.props.chat._id}`)\n      .then((response) => {\n        this.setState({ chat: response.data });\n\n        const otherParticipants = response.data.participants.filter((user) => {\n          return user._id !== this.props.user._id;\n        });\n\n        console.log(\n          response.data.messages[response.data.messages.length - 1].text.length\n        );\n\n        this.setState({\n          otherUser: otherParticipants[0],\n          lastMessage:\n            response.data.messages[response.data.messages.length - 1],\n          lastMessageLength:\n            response.data.messages[response.data.messages.length - 1].text\n              .length,\n        });\n\n        if (\n          response.data.messages.some((message) => {\n            return !message.seen && message.sentBy !== this.props.user._id;\n          })\n        ) {\n          const filtered = response.data.messages.filter((message) => {\n            return !message.seen && message.sentBy !== this.props.user._id;\n          });\n\n          this.setState({ hasUnreadMessages: true, unreadMessages: filtered });\n        }\n      })\n      .catch((err) => console.log(err));\n  };\n\n  readChat = () => {\n    const messagesOfOtherUser = this.state.chat.messages.filter((message) => {\n      return message.sentBy !== this.props.user._id;\n    });\n\n    console.log(\"OTHER MESSAGES\", messagesOfOtherUser);\n\n    messagesOfOtherUser.forEach((message) => {\n      axios\n        .put(`${process.env.REACT_APP_API_URL}/api/message/read/${message._id}`)\n        .then(() => {\n          console.log(\"message was read\");\n          this.setState({ hasUnreadMessages: false });\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    });\n  };\n\n  render() {\n    console.log(this.state.messages);\n    return (\n      <div>\n        <Link to={`/conversation/${this.state.chat._id}`} className=\"link\">\n          <div className=\"user-in-chat\" onClick={this.readChat}>\n            <div id=\"user-chat-info-card\">\n              <img src={this.state.otherUser.image} />\n              <div>\n                <p id=\"chat-card-username\">{this.state.otherUser.username}</p>\n                <div id=\"chat-preview-line\">\n                  <p id=\"chat-preview\">{this.state.lastMessage.text}</p>\n                  {this.state.lastMessageLength > 30 ? (\n                    <span id=\"dots\">...</span>\n                  ) : null}\n                </div>\n              </div>\n            </div>\n\n            {this.state.hasUnreadMessages ? (\n              <div className=\"new-message-alert\">\n                <p>{this.state.unreadMessages.length}</p>\n              </div>\n            ) : null}\n          </div>\n        </Link>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(ChatUserCard);\n","import React, { Component } from \"react\";\nimport queryString from \"query-string\";\nimport { withAuth } from \"./../context/auth-context\";\nimport axios from \"axios\";\nimport ChatUserCard from \"../components/ChatUserCard/ChatUserCard\";\nimport Navbar from \"../components/Navbar/Navbar\";\nimport moment from \"moment\";\nimport { Link } from \"react-router-dom\";\n\n// /**SOCKET****/\n// import io from \"socket.io-client\";\n// const ENDPOINT = \"http://localhost:5000\";\n// let socket = io(ENDPOINT);\n// /********/\n\nclass Chat extends Component {\n  state = {\n    chats: [],\n    sortedChats: [],\n    online: [],\n    openChat: {},\n  };\n\n  // startSocket = () => {\n  //   socket.emit(\"join-main\", { user: this.props.user._id }, (error) => {\n  //     if (error) {\n  //       console.log(error);\n  //     }\n  //   });\n\n  //   socket.on(\"message\", (message) => {\n  //     console.log(\"New message received in one of the chats\");\n  //     this.getAllChats();\n  //   });\n  // };\n\n  componentDidMount = () => {\n    this.getAllChats();\n    // this.startSocket();\n  };\n\n  getAllChats = () => {\n    const userId = this.props.user._id;\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/api/user`, {\n        withCredentials: true,\n      })\n      .then((response) => {\n        //convert updated_at into timestamp\n\n        const convertedArray = response.data.chats.map((chat) => {\n          chat.updated_at = Date.parse(chat.updated_at);\n          return chat;\n        });\n\n        console.log(convertedArray);\n\n        //sort the chats by the time they were last updated\n\n        const sortedByTime = convertedArray.sort((chat1, chat2) => {\n          return chat2.updated_at - chat1.updated_at;\n        });\n\n        console.log(\"CHATS:\", response.data.chats);\n\n        this.setState({\n          chats: response.data.chats,\n          sortedChats: sortedByTime,\n        });\n      })\n      .catch((err) => console.log(err));\n  };\n\n  readChat = (chat) => {\n    console.log(`chat with id ${chat._id} is now open`);\n    console.log(chat.messages);\n    // const messagesOfOtherUser = chat.messages.filter((message) => {\n    //   return message.sentBy !== this.props.user._id;\n    // });\n\n    // console.log(\"OTHER MESSAGES\", messagesOfOtherUser);\n\n    this.setState({ openChat: chat });\n  };\n\n  render() {\n    return (\n      <div id=\"chat-list\">\n        <Navbar />\n        {this.state.sortedChats.length === 0 ? (\n          <p id=\"empty-chat\">\n            You don't have any chats yet.{\" \"}\n            <Link to={\"/home\"} className=\"link\">\n              Search\n            </Link>{\" \"}\n            for a user you want to connect with and start a conversation through\n            their profile page.\n          </p>\n        ) : (\n          <div id=\"chatlist-scroll-bar\">\n            {this.state.sortedChats.map((chat) => {\n              return (\n                <div\n                  key={chat._id}\n                  onClick={() => {\n                    this.readChat(chat);\n                  }}\n                >\n                  <ChatUserCard chat={chat} />\n                </div>\n              );\n            })}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Chat);\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"./../context/auth-context\";\nimport axios from \"axios\";\nimport Navbar from \"./../components/Navbar/Navbar\";\n\n/**SOCKET****/\nimport io from \"socket.io-client\";\n// const ENDPOINT = \"http://localhost:5000\";\nconst ENDPOINT = process.env.REACT_APP_API_URL;\nlet socket = io(ENDPOINT);\n/********/\n\nclass Conversation extends Component {\n  state = {\n    text: \"\",\n    chat: {},\n    messages: [],\n    otherUser: {},\n    typing: false,\n  };\n\n  /**********************SOCKET*************************************/\n  startSocket = () => {\n    socket.emit(\n      \"join\",\n      { room: this.state.chat._id, user: this.props.user._id },\n      (error) => {\n        if (error) {\n          console.log(error);\n        }\n      }\n    );\n\n    socket.on(\"message\", (message) => {\n      console.log(\"socket.on was called\");\n      this.getAllMessages();\n    });\n\n    // socket.on(\"type\", (message) => {\n    //   this.setState({ typing: true });\n    // });\n\n    // socket.on(\"messageIsSeen\", () => {\n    //   this.componentDidMount();\n    // });\n\n    // socket.on(\"type\", () => {\n    //   this.setState({ isTyping: true });\n    //   //   this.scrollToBottom();\n    // });\n\n    // socket.on(\"StopType\", () => {\n    //   this.setState({ isTyping: false });\n    // });\n\n    // this.sendDelete();\n  };\n\n  /**************************************************************/\n\n  handleInput = (event) => {\n    let { name, value, type } = event.target;\n    this.setState({ [name]: value });\n    // console.log(\"typing\");\n\n    // socket.emit(\"typing\", { room: this.state.chat._id }, (error) => {\n    //   if (error) {\n    //     console.log(error);\n    //   }\n    // });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    const { text } = this.state;\n\n    const userId = this.props.user._id;\n\n    axios\n      .post(\n        `${process.env.REACT_APP_API_URL}/api/message`,\n        {\n          chat: this.state.chat._id,\n          sentBy: userId,\n          text: this.state.text,\n        },\n        { withCredentials: true }\n      )\n      .then(() => {\n        this.getAllMessages();\n\n        socket.emit(\n          \"sendMessage\",\n          { room: this.state.chat._id, user: this.props.user._id },\n          (error) => {\n            if (error) {\n              console.log(error);\n            }\n          }\n        );\n      })\n      .catch((err) => console.log(err));\n\n    this.setState({\n      text: \"\",\n    });\n  };\n\n  scrollToBottom = () => {\n    this.el.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  componentDidMount = () => {\n    // setInterval(this.componentDidMount, 2000);\n    // this.startSocket();\n    // this.getAllMessages();\n    this.mountComponent();\n  };\n\n  getAllMessages = () => {\n    const { id } = this.props.match.params;\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/api/chat/${id}`)\n      .then((response) => {\n        const otherParticipants = response.data.participants.filter((user) => {\n          return user._id !== this.props.user._id;\n        });\n\n        this.setState({\n          chat: response.data,\n          messages: response.data.messages,\n          otherUser: otherParticipants[0],\n        });\n\n        this.setMessageToSeen();\n\n        this.scrollToBottom();\n      })\n      .catch((err) => console.log(err));\n  };\n\n  setMessageToSeen = () => {\n    const newMessage = this.state.messages.filter((message) => {\n      return message.sentBy !== this.props.user._id && message.seen === false;\n    });\n    console.log(\"NEW MESSAGE\", newMessage);\n    if (newMessage.length > 0) {\n      axios\n        .put(\n          `${process.env.REACT_APP_API_URL}/api/message/read/${newMessage[0]._id}`\n        )\n        .then((response) => {\n          console.log(\"new message updated\");\n        })\n        .catch((err) => console.log(err));\n    }\n  };\n\n  mountComponent = () => {\n    const { id } = this.props.match.params;\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/api/chat/${id}`)\n      .then((response) => {\n        const otherParticipants = response.data.participants.filter((user) => {\n          return user._id !== this.props.user._id;\n        });\n\n        this.setState({\n          chat: response.data,\n          messages: response.data.messages,\n          otherUser: otherParticipants[0],\n        });\n        this.startSocket();\n        this.scrollToBottom();\n      })\n      .catch((err) => console.log(err));\n  };\n\n  render() {\n    return (\n      <div id=\"conversation-page\">\n        <div id=\"chat-navbar\">\n          <Navbar />\n        </div>\n        <div id=\"conversation-container\">\n          <div className=\"chat-info-bar\">\n            <div className=\"chat-info\">\n              <Link to={\"/chat\"}>\n                <i class=\"fas fa-angle-left\"></i>\n              </Link>\n              <img src={this.state.otherUser.image} className=\"chat-user-img\" />\n              <p>{this.state.otherUser.username}</p>\n            </div>\n            <hr />\n          </div>\n\n          <div className=\"conversation\">\n            <div>\n              {this.state.messages.map((message, index) => {\n                if (message.sentBy === this.props.user._id) {\n                  return (\n                    <div key={message._id} className=\"message-container right\">\n                      <p className=\"message right-blue\">{message.text}</p>\n                      {index === this.state.messages.length - 1 &&\n                      message.seen ? (\n                        <p className=\"seen\">Seen</p>\n                      ) : null}\n                    </div>\n                  );\n                } else {\n                  return (\n                    <div key={message._id} className=\"message-container left\">\n                      <p className=\"message left-red\">{message.text}</p>\n                    </div>\n                  );\n                }\n              })}\n              <div\n                ref={(el) => {\n                  this.el = el;\n                }}\n                id=\"bottom-of-scroll\"\n              ></div>\n              {this.state.typing ? <p>typing</p> : null}\n            </div>\n          </div>\n\n          <form onSubmit={this.handleSubmit} className=\"send-message-form\">\n            <input\n              type=\"text\"\n              name=\"text\"\n              value={this.state.text}\n              onChange={this.handleInput}\n              placeholder=\"type something here...\"\n              required\n            />\n            <button type=\"submit\" className=\"send-button\">\n              Send\n            </button>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Conversation);\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { withAuth } from \"./../context/auth-context\";\nimport Navbar from \"./Navbar/Navbar\";\n\n// Route that only allows access to a user who is not logged in\n\nfunction AnonRoute(routeProps) {\n  // Value coming from `AuthProvider` ( via `withAuth` )\n  const { isLoggedIn, isLoading } = routeProps;\n\n  // Values coming from the AnonRoute itself\n  const ComponentToShow = routeProps.component;\n  const { exact, path } = routeProps;\n\n  // If AuthProvider is still making request to check the user\n  if (isLoading) return \"Loading\";\n\n  return (\n    <Route\n      exact={exact}\n      path={path}\n      render={function (props) {\n        if (isLoggedIn) return <Redirect to=\"/myprofile\" />;\n        else if (!isLoggedIn)\n          return (\n            <div>\n              <ComponentToShow {...props} />\n            </div>\n          );\n      }}\n    />\n  );\n}\n\nexport default withAuth(AnonRoute);\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { withAuth } from \"./../context/auth-context\";\nimport Navbar from \"./Navbar/Navbar\";\n\n// Route that forbids access to a user who is not logged in\n\nfunction PrivateRoute(routeProps) {\n  // Value coming from `AuthProvider` ( via `withAuth` )\n  const { isLoggedIn, isLoading } = routeProps;\n\n  // Values coming from the PrivateRoute itself\n  const ComponentToShow = routeProps.component;\n  const { exact, path } = routeProps;\n\n  // If AuthProvider is still making request to check the user\n  if (isLoading) return \"Loading\";\n\n  return (\n    <Route\n      exact={exact}\n      path={path}\n      render={function (props) {\n        if (!isLoggedIn) return <Redirect to=\"/login\" />;\n        else if (isLoggedIn)\n          return (\n            <div>\n              <ComponentToShow {...props} />\n            </div>\n          );\n      }}\n    />\n  );\n}\n\nexport default withAuth(PrivateRoute);\n\n/* \n// Concise way\nfunction PrivateRoute({ component: Component, isLoggedIn, ...rest }) {\n  return (\n   <Route\n    {...rest}\n    render={ (props)  => isLoggedIn ? <Component {...props} /> : <Redirect to=\"/login\" />}\n   /> \n)} \n*/\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport { Switch, Route } from \"react-router-dom\";\nimport withTheme from \"./hoc/withTheme\";\n\n\nimport Home from \"./pages/Home\";\nimport Signup from \"./pages/Signup\";\nimport Login from \"./pages/Login\";\nimport Private from \"./pages/Private\";\nimport UserProfile from \"./pages/UserProfile\";\nimport LandingPage from \"./pages/LandingPage\";\nimport Chat from \"./pages/Chat\";\nimport Conversation from \"./pages/Conversation\";\n\nimport AnonRoute from \"./components/AnonRoute\";\nimport PrivateRoute from \"./components/PrivateRoute\";\n\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\" style={this.props.style}>\n        <Switch>\n          <Route exact path=\"/\" component={LandingPage} />\n          <Route exact path=\"/home\" component={Home} />\n          <Route exact path=\"/user/:id\" component={UserProfile} />\n\n          <AnonRoute exact path=\"/signup\" component={Signup} />\n          <AnonRoute exact path=\"/login\" component={Login} />\n\n          <PrivateRoute exact path=\"/myprofile\" component={Private} />\n          <PrivateRoute exact path=\"/chat\" component={Chat} />\n          <PrivateRoute\n            exact\n            path=\"/conversation/:id\"\n            component={Conversation}\n          />\n        </Switch>\n      </div>\n    )\n  }\n}\n\nexport default withTheme(App, \"light\")\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport App from \"./App\";\n\nimport { AuthProvider } from \"./context/auth-context\";\n\nReactDOM.render(\n  <Router>\n    <AuthProvider>\n      <App />\n    </AuthProvider>\n  </Router>,\n  document.getElementById(\"root\")\n)\n"],"sourceRoot":""}